(self.webpackChunkmono_angular=self.webpackChunkmono_angular||[]).push([[792],{"./projects/countdown/.storybook/preview.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>_storybook_preview});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),angular=__webpack_require__("./node_modules/@storybook/addon-docs/angular/index.js"),dist=__webpack_require__("./node_modules/@storybook/addon-themes/dist/index.mjs"),standalone=__webpack_require__("./node_modules/prettier/standalone.mjs"),html=__webpack_require__("./node_modules/prettier/plugins/html.mjs");function _formatAngularCode(){return(_formatAngularCode=(0,asyncToGenerator.A)(function*(code){return yield standalone.GP(code,{parser:"angular",plugins:[html]})})).apply(this,arguments)}const documentation_namespaceObject=JSON.parse('{"pipes":[],"interfaces":[],"injectables":[{"name":"EnvironmentService","id":"injectable-EnvironmentService-712d71f558fe9c05cbfd60e2bb0dbff6229ed7dc322e5baa445c8641b5b267585129ffc233b0bbff7fdeaaaf072ffe71a89d4d3f0b9d56d8abd382cf5e8cab2f","file":"projects/countdown/src/app/services/EnvironmentService.ts","properties":[{"name":"config","defaultValue":"environment","deprecated":false,"deprecationMessage":"","type":"EnvConfig","indexKey":"","optional":false,"description":"","line":9,"modifierKind":[148]}],"methods":[],"deprecated":false,"deprecationMessage":"","description":"","rawdescription":"\\n","sourceCode":"import { Injectable } from \'@angular/core\';\\nimport { environment } from \'../../environments/environment\';\\nimport { type EnvConfig } from \'../../environments/types\';\\n\\n@Injectable({\\n  providedIn: \'root\',\\n})\\nexport class EnvironmentService {\\n  readonly config: EnvConfig = environment;\\n}\\n","extends":[],"type":"injectable"},{"name":"GoogleAuthService","id":"injectable-GoogleAuthService-1cbd93c3e3c9cbca685791d1948cf91f5a22d4fe69a814981537acbd5028df182f4f851bfa0a0bef1051efc8447fd3ac1512aa21c16d43bb03b6c5fd029b95b5","file":"projects/countdown/src/app/services/GoogleAuthService.ts","properties":[{"name":"isAuthenticated","defaultValue":"computed(() => !!this.accessToken())","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":19,"modifierKind":[125]},{"name":"loginError","defaultValue":"signal<string | null>(null)","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":21,"modifierKind":[125]}],"methods":[{"name":"clearAccessToken","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":141,"deprecated":false,"deprecationMessage":"","modifierKind":[125]},{"name":"initialize","args":[{"type":"AuthConfig","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"any","typeParameters":[],"line":33,"deprecated":false,"deprecationMessage":"","modifierKind":[125,134],"jsdoctags":[{"type":"AuthConfig","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]},{"name":"requestAccessToken","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":130,"deprecated":false,"deprecationMessage":"","modifierKind":[125]},{"name":"revokeConsent","args":[],"optional":false,"returnType":"unknown","typeParameters":[],"line":83,"deprecated":false,"deprecationMessage":"","modifierKind":[125,134]}],"deprecated":false,"deprecationMessage":"","description":"","rawdescription":"\\n","sourceCode":"import { computed, inject, Injectable, signal } from \'@angular/core\';\\nimport { Router } from \'@angular/router\';\\n\\ntype AuthConfig = {\\n  clientId: string;\\n  scopes: string[];\\n};\\n\\n@Injectable({\\n  providedIn: \'root\',\\n})\\nexport class GoogleAuthService {\\n  private router = inject(Router);\\n\\n  private tokenClient: google.accounts.oauth2.TokenClient | null = null;\\n  private accessToken$ = signal<string | null>(null);\\n  public isAuthenticated = computed(() => !!this.accessToken());\\n\\n  public loginError = signal<string | null>(null);\\n\\n  public get accessToken() {\\n    // expose a read-only version of the signal\\n    return this.accessToken$.asReadonly();\\n  }\\n\\n  constructor() {\\n    const storedToken = this.getTokenFromStorage();\\n    this.accessToken$.set(storedToken);\\n  }\\n\\n  public async initialize({ clientId, scopes }: AuthConfig) {\\n    if (!(\'google\' in window)) {\\n      await this.loadGsiScript();\\n    }\\n\\n    const storedToken = this.getTokenFromStorage();\\n\\n    if (storedToken) {\\n      // just use stored token if it\'s available\\n      this.accessToken$.set(storedToken);\\n      this.router.navigate([\'/\']);\\n      return;\\n    }\\n\\n    // Initialize the token client after the script is loaded\\n    this.initTokenClient(clientId, scopes);\\n  }\\n\\n  private loadGsiScript() {\\n    return new Promise<void>((resolve, reject) => {\\n      const scriptElement = document.createElement(\'script\');\\n      scriptElement.src = \'https://accounts.google.com/gsi/client\';\\n      scriptElement.defer = true;\\n      scriptElement.async = true;\\n      scriptElement.onload = () => resolve();\\n      scriptElement.onerror = () =>\\n        reject(new Error(\'Failed to load GSI script.\'));\\n      document.head.appendChild(scriptElement);\\n    });\\n  }\\n\\n  private initTokenClient(clientId: string, scopes: string[]) {\\n    this.tokenClient = google.accounts.oauth2.initTokenClient({\\n      client_id: clientId,\\n      scope: scopes.join(\' \'),\\n      callback: (response) => {\\n        if (response.access_token) {\\n          this.accessToken$.set(response.access_token);\\n          this.saveTokenToStorage(response.access_token, +response.expires_in);\\n          this.router.navigate([\'/\']);\\n        } else {\\n          this.loginError.set(\\n            \'There was an error logging in. Please try again.\'\\n          );\\n          console.error(\'Failed to obtain access token.\');\\n        }\\n      },\\n    });\\n  }\\n\\n  public async revokeConsent() {\\n    return new Promise<{ successful: boolean }>((resolve, reject) => {\\n      const accessToken = this.accessToken();\\n\\n      if (!accessToken) {\\n        reject(new Error(\'Access token not found\'));\\n        return;\\n      }\\n\\n      google.accounts.oauth2.revoke(accessToken, () => {\\n        resolve({ successful: true });\\n      });\\n    });\\n  }\\n\\n  /** access token */\\n  private isTokenExpired(tokenExpiry: string) {\\n    return Date.now() >= parseInt(tokenExpiry);\\n  }\\n\\n  private saveTokenToStorage(accessToken: string, expiresIn: number) {\\n    const tokenExpiry = Date.now() + expiresIn * 1000;\\n    localStorage.setItem(\'accessToken\', accessToken);\\n    localStorage.setItem(\'tokenExpiry\', tokenExpiry.toString());\\n  }\\n\\n  private getTokenFromStorage() {\\n    const accessToken = localStorage.getItem(\'accessToken\');\\n    const tokenExpiry = localStorage.getItem(\'tokenExpiry\');\\n\\n    if (!accessToken || !tokenExpiry) {\\n      return null;\\n    }\\n\\n    if (this.isTokenExpired(tokenExpiry)) {\\n      this.clearTokenFromStorage();\\n      return null;\\n    }\\n\\n    return accessToken;\\n  }\\n\\n  private clearTokenFromStorage() {\\n    localStorage.removeItem(\'accessToken\');\\n    localStorage.removeItem(\'tokenExpiry\');\\n  }\\n\\n  public requestAccessToken() {\\n    this.loginError.set(null);\\n\\n    if (!this.tokenClient) {\\n      console.error(\'Token client is not initialized.\');\\n      return;\\n    }\\n\\n    this.tokenClient.requestAccessToken();\\n  }\\n\\n  public clearAccessToken() {\\n    this.accessToken$.set(null);\\n    this.clearTokenFromStorage();\\n  }\\n  /** access token */\\n}\\n","constructorObj":{"name":"constructor","description":"","deprecated":false,"deprecationMessage":"","args":[],"line":26},"accessors":{"accessToken":{"name":"accessToken","getSignature":{"name":"accessToken","type":"","returnType":"","line":23}}},"extends":[],"type":"injectable"},{"name":"GoogleCalendarService","id":"injectable-GoogleCalendarService-b9bdeeba5028add858504dc19ced20bd08035160abef92373a7001b972ebc038324c5d7dbbaea994e7781ae54332f5e6522814185264baf67c7874dbf5de0189","file":"projects/countdown/src/app/services/GoogleCalendarService.ts","properties":[],"methods":[{"name":"createEvent","args":[{"type":"literal type","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"any","typeParameters":[],"line":42,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"type":"literal type","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]},{"name":"getEvents","args":[{"type":"literal type","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"Observable<EventsData[]>","typeParameters":[],"line":85,"deprecated":false,"deprecationMessage":"","jsdoctags":[{"type":"literal type","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]}],"deprecated":false,"deprecationMessage":"","description":"<p>docs: <a href=\\"https://developers.google.com/workspace/calendar/api/v3/reference/events/list\\">https://developers.google.com/workspace/calendar/api/v3/reference/events/list</a></p>\\n","rawdescription":"\\n\\ndocs: https://developers.google.com/workspace/calendar/api/v3/reference/events/list\\n","sourceCode":"import { inject, Injectable } from \'@angular/core\';\\nimport { HttpClient, HttpHeaders, HttpParams } from \'@angular/common/http\';\\nimport { type Observable } from \'rxjs\';\\nimport { map, catchError } from \'rxjs/operators\';\\nimport { createDateTimeZoned } from \'@cocco3/utils\';\\nimport { GoogleAuthService } from \'./GoogleAuthService\';\\n\\ntype ApiResponse = {\\n  items: {\\n    id: string;\\n    summary?: string;\\n    description?: string;\\n    start?: {\\n      dateTime?: string;\\n      date?: string;\\n    };\\n    end?: {\\n      dateTime?: string;\\n      date?: string;\\n    };\\n  }[];\\n};\\n\\nexport type EventsData = {\\n  id: string;\\n  name: string;\\n  date: string;\\n};\\n\\n/**\\n * docs: https://developers.google.com/workspace/calendar/api/v3/reference/events/list\\n */\\n@Injectable({\\n  providedIn: \'root\',\\n})\\nexport class GoogleCalendarService {\\n  private readonly apiUrl = \'https://www.googleapis.com/calendar/v3/calendars\';\\n\\n  private http = inject(HttpClient);\\n  private auth = inject(GoogleAuthService);\\n\\n  createEvent({\\n    calendarId,\\n    summary,\\n    description,\\n    startDate,\\n    startTime,\\n    endDate,\\n    endTime,\\n    timeZone,\\n  }: {\\n    calendarId: string;\\n    summary: string;\\n    description: string;\\n    startDate: string;\\n    startTime?: string;\\n    endDate: string;\\n    endTime?: string;\\n    timeZone: string;\\n  }) {\\n    const accessToken = this.auth.accessToken();\\n\\n    const headers = new HttpHeaders({\\n      Authorization: `Bearer ${accessToken}`,\\n      \'Content-Type\': \'application/json\',\\n    });\\n\\n    const start = prepDates({ date: startDate, time: startTime, timeZone });\\n    const end = prepDates({ date: endDate, time: endTime, timeZone });\\n\\n    const params = {\\n      summary,\\n      description,\\n      start,\\n      end,\\n    };\\n\\n    return this.http.post<unknown>(\\n      `${this.apiUrl}/${calendarId}/events`,\\n      params,\\n      { headers }\\n    );\\n  }\\n\\n  getEvents({\\n    calendarId,\\n    query,\\n  }: {\\n    calendarId: string;\\n    query: string;\\n  }): Observable<EventsData[]> {\\n    const accessToken = this.auth.accessToken();\\n\\n    const headers = new HttpHeaders({\\n      Authorization: `Bearer ${accessToken}`,\\n    });\\n\\n    const now = new Date().toISOString();\\n    const params = new HttpParams().set(\'timeMin\', now).set(\'q\', query);\\n\\n    return this.http\\n      .get<ApiResponse>(`${this.apiUrl}/${calendarId}/events`, {\\n        headers,\\n        params,\\n      })\\n      .pipe(\\n        map((response) =>\\n          response.items\\n            .filter((x) => !!x.start?.dateTime || !!x.start?.date)\\n            .map((item) => ({\\n              id: item.id,\\n              name: item.summary || \'\',\\n              date: item.start?.dateTime || item.start?.date || \'\',\\n            }))\\n        ),\\n        catchError((error) => {\\n          console.error(\'Error fetching events:\', error);\\n          throw error;\\n        })\\n      );\\n  }\\n}\\n\\nconst prepDates = ({\\n  date,\\n  time,\\n  timeZone,\\n}: {\\n  date: string;\\n  time?: string;\\n  timeZone: string;\\n}) => {\\n  if (time) {\\n    return { dateTime: createDateTimeZoned(date, time, timeZone) };\\n  } else {\\n    return { date };\\n  }\\n};\\n","extends":[],"type":"injectable"},{"name":"GoogleUserInfoService","id":"injectable-GoogleUserInfoService-4633532391d5857b44a97454907b4bf751bca081f6cceddd63d876baf8b40a701d3a825529c6cf3c7f4f4677fd193587a6225c83680485b9f9f0e3ee715bb612","file":"projects/countdown/src/app/services/GoogleUserInfoService.ts","properties":[{"name":"data","defaultValue":"signal<UserInfoData | undefined>(undefined)","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":42}],"methods":[{"name":"fetchUserInfo","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":44,"deprecated":false,"deprecationMessage":""}],"deprecated":false,"deprecationMessage":"","description":"<p>docs: <a href=\\"https://developers.google.com/people/api/rest/v1/people/get\\">https://developers.google.com/people/api/rest/v1/people/get</a></p>\\n","rawdescription":"\\n\\ndocs: https://developers.google.com/people/api/rest/v1/people/get\\n","sourceCode":"import { inject, Injectable, signal } from \'@angular/core\';\\nimport { HttpClient, HttpHeaders, HttpParams } from \'@angular/common/http\';\\nimport { map, catchError } from \'rxjs/operators\';\\nimport { GoogleAuthService } from \'./GoogleAuthService\';\\n\\ntype ApiResponse = {\\n  resourceName: string;\\n  etag: string;\\n  names?: {\\n    displayName: string;\\n    givenName?: string;\\n    familyName?: string;\\n    metadata: { primary: boolean };\\n  }[];\\n  emailAddresses?: {\\n    value: string;\\n    metadata: { primary: boolean };\\n  }[];\\n  photos?: {\\n    url: string;\\n    metadata: { primary: boolean };\\n  }[];\\n};\\n\\ntype UserInfoData = {\\n  name: string;\\n  email: string;\\n  photo: string;\\n};\\n\\n/**\\n * docs: https://developers.google.com/people/api/rest/v1/people/get\\n */\\n@Injectable({\\n  providedIn: \'root\',\\n})\\nexport class GoogleUserInfoService {\\n  private readonly apiUrl = \'https://people.googleapis.com/v1/people/me\';\\n  private http = inject(HttpClient);\\n  private auth = inject(GoogleAuthService);\\n\\n  data = signal<UserInfoData | undefined>(undefined);\\n\\n  fetchUserInfo() {\\n    if (this.data()) {\\n      return;\\n    }\\n\\n    const accessToken = this.auth.accessToken();\\n\\n    const headers = new HttpHeaders({\\n      Authorization: `Bearer ${accessToken}`,\\n    });\\n\\n    const params = new HttpParams().set(\\n      \'personFields\',\\n      \'emailAddresses,names,photos\'\\n    );\\n\\n    this.http\\n      .get<ApiResponse>(this.apiUrl, { headers, params })\\n      .pipe(\\n        map((response) => ({\\n          email:\\n            response.emailAddresses?.find((x) => x.metadata.primary)?.value ||\\n            \'\',\\n          name:\\n            response.names?.find((x) => x.metadata.primary)?.displayName || \'\',\\n          photo: response.photos?.find((x) => x.metadata.primary)?.url || \'\',\\n        })),\\n        catchError((error) => {\\n          console.error(\'Error fetching profile:\', error);\\n          throw error;\\n        })\\n      )\\n      .subscribe({\\n        next: (data) => this.data.set(data),\\n        error: (error) => console.error(\'Error fetching user:\', error),\\n      });\\n  }\\n}\\n","extends":[],"type":"injectable"},{"name":"LocalStorageService","id":"injectable-LocalStorageService-8828813bf56aef1ace05253385cdd001f45a84cf0585e829b33c9fea122239bd56a6ced53fdffd4d6d5b870eeb55a5a8e052a3bebb83ac817733eb950353cb99","file":"projects/countdown/src/app/services/LocalStorageService.ts","properties":[{"name":"get","defaultValue":"this.localStorage.get.bind(this.localStorage)","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":26},{"name":"remove","defaultValue":"this.localStorage.remove.bind(this.localStorage)","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":28},{"name":"set","defaultValue":"this.localStorage.set.bind(this.localStorage)","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":27}],"methods":[],"deprecated":false,"deprecationMessage":"","description":"","rawdescription":"\\n","sourceCode":"import { Injectable } from \'@angular/core\';\\nimport { LocalStorage } from \'@cocco3/utils\';\\n\\nexport const UserSettingThemes = [\'auto\', \'light\', \'dark\'] as const;\\nexport type UserSettingTheme = (typeof UserSettingThemes)[number];\\n\\nexport const UserSettingFormats = [\'detailed\', \'days\'] as const;\\nexport type UserSettingFormat = (typeof UserSettingFormats)[number];\\n\\nexport type AppLocalStorage = {\\n  settings: {\\n    query: string;\\n    theme: UserSettingTheme;\\n    timeZone: string;\\n    defaultCalendarId: string;\\n    defaultFormat: UserSettingFormat;\\n  };\\n};\\n\\n@Injectable({\\n  providedIn: \'root\',\\n})\\nexport class LocalStorageService {\\n  private readonly localStorage = new LocalStorage<AppLocalStorage>();\\n\\n  get = this.localStorage.get.bind(this.localStorage);\\n  set = this.localStorage.set.bind(this.localStorage);\\n  remove = this.localStorage.remove.bind(this.localStorage);\\n}\\n","extends":[],"type":"injectable"},{"name":"LoggerService","id":"injectable-LoggerService-4f2c0a33ce9c9233aceabb1de24ea987a8c6b2372ffc8fcad417976e276baa5d56cdab6b7b244468833a3131ce2f43a3e93578144daf7355e84dd5ff4d342ba0","file":"projects/countdown/src/app/services/LoggerService.ts","properties":[{"name":"error","defaultValue":"this.logger.error.bind(this.logger)","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":18},{"name":"info","defaultValue":"this.logger.info.bind(this.logger)","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":16},{"name":"log","defaultValue":"this.logger.log.bind(this.logger)","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":15},{"name":"warn","defaultValue":"this.logger.warn.bind(this.logger)","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":17}],"methods":[],"deprecated":false,"deprecationMessage":"","description":"","rawdescription":"\\n","sourceCode":"import { inject, Injectable } from \'@angular/core\';\\nimport { Logger } from \'@cocco3/utils\';\\nimport { EnvironmentService } from \'./EnvironmentService\';\\n\\n@Injectable({\\n  providedIn: \'root\',\\n})\\nexport class LoggerService {\\n  private readonly env = inject(EnvironmentService);\\n\\n  private readonly logger = new Logger({\\n    isDev: [\'dev\', \'local\'].includes(this.env.config.env),\\n  });\\n\\n  log = this.logger.log.bind(this.logger);\\n  info = this.logger.info.bind(this.logger);\\n  warn = this.logger.warn.bind(this.logger);\\n  error = this.logger.error.bind(this.logger);\\n}\\n","extends":[],"type":"injectable"},{"name":"RouterEventsService","id":"injectable-RouterEventsService-20262c7317c65c3c304636f49c2607fc746b2a4ad326848cadb8519e5530b85d2f0032538c550a0c258e8d954123631e10f72055a891709d17f3d0d0926e35d0","file":"projects/countdown/src/app/services/RouterEventsService.ts","properties":[],"methods":[{"name":"registerRouteChange","args":[{"name":"callback","type":"function","deprecated":false,"deprecationMessage":"","function":[{"name":"url","type":"string","deprecated":false,"deprecationMessage":""}]}],"optional":false,"returnType":"void","typeParameters":[],"line":21,"deprecated":false,"deprecationMessage":"","modifierKind":[125],"jsdoctags":[{"name":"callback","type":"function","deprecated":false,"deprecationMessage":"","function":[{"name":"url","type":"string","deprecated":false,"deprecationMessage":""}],"tagName":{"text":"param"}}]}],"deprecated":false,"deprecationMessage":"","description":"","rawdescription":"\\n","sourceCode":"import { inject, Injectable } from \'@angular/core\';\\nimport { takeUntilDestroyed } from \'@angular/core/rxjs-interop\';\\nimport { Router, NavigationEnd, type Event } from \'@angular/router\';\\n\\n@Injectable({\\n  providedIn: \'root\',\\n})\\nexport class RouterEventsService {\\n  private readonly router = inject(Router);\\n\\n  private routeChangeHandlers: ((url: string) => void)[] = [];\\n\\n  constructor() {\\n    this.router.events.pipe(takeUntilDestroyed()).subscribe((event: Event) => {\\n      if (event instanceof NavigationEnd) {\\n        this.routeChangeHandlers.forEach((fn) => fn(event.urlAfterRedirects));\\n      }\\n    });\\n  }\\n\\n  public registerRouteChange(callback: (url: string) => void) {\\n    this.routeChangeHandlers.push(callback);\\n  }\\n}\\n","constructorObj":{"name":"constructor","description":"","deprecated":false,"deprecationMessage":"","args":[],"line":11},"extends":[],"type":"injectable"},{"name":"UserSettingsService","id":"injectable-UserSettingsService-634913e1b089c43979d45dfd8c532eaaed641ffca901e3bd8f0474191456d81e63798a01c163053ffcbe7e7bdcce4ec90e2074ce03374b6a3f4b05d25860944f","file":"projects/countdown/src/app/services/UserSettingsService.ts","properties":[{"name":"settings","defaultValue":"this.settingsSignal.asReadonly()","deprecated":false,"deprecationMessage":"","type":"","indexKey":"","optional":false,"description":"","line":25,"modifierKind":[125,148]}],"methods":[{"name":"get","args":[],"optional":false,"returnType":"any","typeParameters":[],"line":32,"deprecated":false,"deprecationMessage":""},{"name":"save","args":[{"name":"value","type":"UserSettings","deprecated":false,"deprecationMessage":""}],"optional":false,"returnType":"any","typeParameters":[],"line":37,"deprecated":false,"deprecationMessage":"","modifierKind":[134],"jsdoctags":[{"name":"value","type":"UserSettings","deprecated":false,"deprecationMessage":"","tagName":{"text":"param"}}]}],"deprecated":false,"deprecationMessage":"","description":"","rawdescription":"\\n","sourceCode":"import { inject, Injectable, signal } from \'@angular/core\';\\nimport {\\n  type AppLocalStorage,\\n  LocalStorageService,\\n} from \'./LocalStorageService\';\\nimport { sleep } from \'@cocco3/utils\';\\n\\ntype UserSettings = AppLocalStorage[\'settings\'];\\n\\nconst DEFAULT_SETTINGS: UserSettings = {\\n  query: \'#countdown\',\\n  timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone,\\n  defaultCalendarId: \'primary\',\\n  defaultFormat: \'detailed\',\\n  theme: \'auto\',\\n};\\n\\n@Injectable({\\n  providedIn: \'root\',\\n})\\nexport class UserSettingsService {\\n  private readonly localStorage = inject(LocalStorageService);\\n\\n  private readonly settingsSignal = signal<UserSettings>(DEFAULT_SETTINGS);\\n  public readonly settings = this.settingsSignal.asReadonly();\\n\\n  constructor() {\\n    const stored = this.get();\\n    this.settingsSignal.set(stored);\\n  }\\n\\n  get() {\\n    const stored = this.localStorage.get(\'settings\');\\n    return { ...DEFAULT_SETTINGS, ...(stored ?? {}) };\\n  }\\n\\n  async save(value: UserSettings) {\\n    await sleep(250); /* make it look like something is happening */\\n    this.localStorage.set(\'settings\', value);\\n    this.settingsSignal.set(value);\\n  }\\n}\\n","constructorObj":{"name":"constructor","description":"","deprecated":false,"deprecationMessage":"","args":[],"line":25},"extends":[],"type":"injectable"}],"guards":[{"name":"AuthGuardService","id":"injectable-AuthGuardService-f9aab008913ff421d7f09eff4b09b2cf413b3788aa13b4c94f7b006262a9e521c43403906ebd7653ef22c136d22b8f601f03b8d0dde42d3daaaacde8b96f7bcf","file":"projects/countdown/src/app/services/AuthGuardService.ts","properties":[],"methods":[{"name":"canActivate","args":[],"optional":false,"returnType":"boolean","typeParameters":[],"line":12,"deprecated":false,"deprecationMessage":""}],"deprecated":false,"deprecationMessage":"","description":"","rawdescription":"\\n","sourceCode":"import { inject, Injectable } from \'@angular/core\';\\nimport { type CanActivate, Router } from \'@angular/router\';\\nimport { GoogleAuthService } from \'./GoogleAuthService\';\\n\\n@Injectable({\\n  providedIn: \'root\',\\n})\\nexport class AuthGuardService implements CanActivate {\\n  private auth = inject(GoogleAuthService);\\n  private router = inject(Router);\\n\\n  canActivate(): boolean {\\n    if (this.auth.isAuthenticated()) {\\n      return true;\\n    } else {\\n      this.router.navigate([\'/login\']);\\n      return false;\\n    }\\n  }\\n}\\n","extends":[],"type":"guard"}],"interceptors":[],"classes":[],"directives":[],"components":[{"name":"AppComponent","id":"component-AppComponent-ea2041058ea927fcc2876bb67ec68bec558d1d9f46fbe907d392d2f4121f7f2540ed98f2b9cd93a87842386c4c5efc5890983f77a3e74ff43f3b37a8d71de522","file":"projects/countdown/src/app/app.component.ts","encapsulation":[],"entryComponents":[],"inputs":[],"outputs":[],"providers":[],"selector":"app-root","styleUrls":[],"styles":[],"templateUrl":["./app.component.html"],"viewProviders":[],"hostDirectives":[],"inputsClass":[],"outputsClass":[],"propertiesClass":[],"methodsClass":[],"deprecated":false,"deprecationMessage":"","hostBindings":[],"hostListeners":[],"standalone":false,"imports":[{"name":"RouterOutlet"},{"name":"UiToastsComponent","type":"component"}],"description":"","rawdescription":"\\n","type":"component","sourceCode":"import { Component, effect, inject, Renderer2 } from \'@angular/core\';\\nimport { RouterOutlet } from \'@angular/router\';\\nimport { UiToastsComponent, UiToastService } from \'@cocco3/angular-ui\';\\nimport { UserSettingsService } from \'./services/UserSettingsService\';\\nimport { RouterEventsService } from \'./services/RouterEventsService\';\\n\\n@Component({\\n  imports: [RouterOutlet, UiToastsComponent],\\n  selector: \'app-root\',\\n  styleUrl: \'./app.component.css\',\\n  templateUrl: \'./app.component.html\',\\n})\\nexport class AppComponent {\\n  private readonly renderer = inject(Renderer2);\\n  private readonly routerEvents = inject(RouterEventsService);\\n  private readonly toastService = inject(UiToastService);\\n\\n  private readonly userSettingsService = inject(UserSettingsService);\\n  protected title = \'CountdownApp\';\\n\\n  private getColorSchemeCss = (value: string) =>\\n    ({\\n      light: \'light\',\\n      dark: \'dark\',\\n      auto: \'light dark\',\\n    })[value];\\n\\n  private setColorScheme() {\\n    this.renderer.setStyle(\\n      document.documentElement,\\n      \'color-scheme\',\\n      this.getColorSchemeCss(this.userSettingsService.settings().theme)\\n    );\\n  }\\n\\n  private subscribeToRouteChanges() {\\n    this.routerEvents.registerRouteChange(() => {\\n      this.toastService.clearAll();\\n    });\\n  }\\n\\n  constructor() {\\n    this.subscribeToRouteChanges();\\n\\n    effect(() => {\\n      this.setColorScheme();\\n    });\\n  }\\n}\\n","styleUrl":"./app.component.css","assetsDirs":[],"styleUrlsData":"","stylesData":"","constructorObj":{"name":"constructor","description":"","deprecated":false,"deprecationMessage":"","args":[],"line":40},"extends":[],"templateData":"<ui-toasts placement=\\"top-center\\" />\\n<router-outlet />\\n"},{"name":"AppHeaderComponent","id":"component-AppHeaderComponent-99fb1ad34e40280d2b9cc9190a808cd7e78bb7b08fb18d95531bc8c53bdaf1e243400548be634eef3d797ab2b66626d265507430f1a1d232c0d7f52ab5794f01","file":"projects/countdown/src/app/app-header/app-header.ts","encapsulation":[],"entryComponents":[],"inputs":[],"outputs":[],"providers":[],"selector":"app-header","styleUrls":[],"styles":[],"templateUrl":["./app-header.html"],"viewProviders":[],"hostDirectives":[],"inputsClass":[],"outputsClass":[],"propertiesClass":[],"methodsClass":[],"deprecated":false,"deprecationMessage":"","hostBindings":[],"hostListeners":[],"standalone":false,"imports":[{"name":"RouterLink"},{"name":"UiAppHeaderComponent","type":"component"},{"name":"UiSlotDirective","type":"directive"},{"name":"UiAvatarComponent","type":"component"},{"name":"UiAppHeaderAnchorComponent","type":"component"},{"name":"UiIconComponent","type":"component"}],"description":"","rawdescription":"\\n","type":"component","sourceCode":"import { Component, computed, inject } from \'@angular/core\';\\nimport { RouterLink } from \'@angular/router\';\\nimport {\\n  UiAppHeaderComponent,\\n  UiAvatarComponent,\\n  UiSlotDirective,\\n  UiAppHeaderAnchorComponent,\\n  UiIconComponent,\\n} from \'@cocco3/angular-ui\';\\nimport { GoogleUserInfoService } from \'../services/GoogleUserInfoService\';\\n\\n@Component({\\n  imports: [\\n    RouterLink,\\n    UiAppHeaderComponent,\\n    UiSlotDirective,\\n    UiAvatarComponent,\\n    UiAppHeaderAnchorComponent,\\n    UiIconComponent,\\n  ],\\n  selector: \'app-header\',\\n  styleUrl: \'./app-header.css\',\\n  templateUrl: \'./app-header.html\',\\n})\\nexport class AppHeaderComponent {\\n  private userService = inject(GoogleUserInfoService);\\n  protected user = computed(() => this.userService.data());\\n}\\n","styleUrl":"./app-header.css","assetsDirs":[],"styleUrlsData":"","stylesData":"","extends":[],"templateData":"<ui-app-header title=\\"CountdownApp\\">\\n  <a ui-app-header-button uiSlot=\\"logo\\" class=\\"logo\\" routerLink=\\"/\\">\\n    <ui-icon kind=\\"countdown\\" size=\\"28px\\" />\\n    CountdownApp\\n  </a>\\n\\n  @if (!!user()) {\\n    <a ui-app-header-button uiSlot=\\"user\\" routerLink=\\"/settings\\">\\n      <ui-avatar\\n        uiSlot=\\"start\\"\\n        size=\\"small\\"\\n        [fullName]=\\"user()?.name || \'\'\\"\\n        [photoUrl]=\\"user()?.photo\\"\\n      />\\n      <span class=\\"user_name\\">\\n        {{ user()?.name }}\\n      </span>\\n    </a>\\n  }\\n</ui-app-header>\\n"},{"name":"AppMainComponent","id":"component-AppMainComponent-562be1f851d8134ed4fb02053ef928cd25a894ba9e1aeb32a5a1b1a6b0f94322d3d7a5d6ce3bd494322819dfa20dabe7df78f33eebc44884aabbeaa64dc4f813","file":"projects/countdown/src/app/app-main/app-main.component.ts","encapsulation":[],"entryComponents":[],"inputs":[],"outputs":[],"providers":[],"selector":"app-main","styleUrls":[],"styles":[],"templateUrl":["./app-main.html"],"viewProviders":[],"hostDirectives":[],"inputsClass":[],"outputsClass":[],"propertiesClass":[],"methodsClass":[],"deprecated":false,"deprecationMessage":"","hostBindings":[],"hostListeners":[],"standalone":false,"imports":[{"name":"RouterOutlet"},{"name":"AppHeaderComponent","type":"component"},{"name":"UiWrapperComponent","type":"component"}],"description":"","rawdescription":"\\n","type":"component","sourceCode":"import { Component, inject, type OnInit } from \'@angular/core\';\\nimport { RouterOutlet } from \'@angular/router\';\\nimport { UiWrapperComponent } from \'@cocco3/angular-ui\';\\nimport { AppHeaderComponent } from \'../app-header/app-header\';\\nimport { GoogleUserInfoService } from \'../services/GoogleUserInfoService\';\\n\\n@Component({\\n  imports: [RouterOutlet, AppHeaderComponent, UiWrapperComponent],\\n  selector: \'app-main\',\\n  styleUrl: \'./app-main.css\',\\n  templateUrl: \'./app-main.html\',\\n})\\nexport class AppMainComponent implements OnInit {\\n  private userService = inject(GoogleUserInfoService);\\n\\n  ngOnInit() {\\n    this.userService.fetchUserInfo();\\n  }\\n}\\n","styleUrl":"./app-main.css","assetsDirs":[],"styleUrlsData":"","stylesData":"","extends":[],"implements":["OnInit"],"templateData":"<app-header />\\n<ui-wrapper class=\\"main\\">\\n  <router-outlet />\\n</ui-wrapper>\\n"},{"name":"CountdownComponent","id":"component-CountdownComponent-b77418f76fa120dbee277e4578144d99d40a49286a2cf70336ee8212204bff4a02b690dbbead9908c1df7f888aa73d1e52a4ad79dd2c9cb4a0a3404114e96224","file":"projects/countdown/src/app/events/countdown/countdown.component.ts","encapsulation":[],"entryComponents":[],"inputs":[],"outputs":[],"providers":[],"selector":"app-countdown","styleUrls":[],"styles":[],"templateUrl":["./countdown.html"],"viewProviders":[],"hostDirectives":[],"inputsClass":[{"name":"date","deprecated":false,"deprecationMessage":"","type":"string","indexKey":"","optional":false,"description":"","line":15,"required":true},{"name":"format","deprecated":false,"deprecationMessage":"","type":"CountdownFormat","indexKey":"","optional":false,"description":"","line":17,"required":true},{"name":"name","deprecated":false,"deprecationMessage":"","type":"string","indexKey":"","optional":false,"description":"","line":16,"required":true}],"outputsClass":[{"name":"clicked","deprecated":false,"deprecationMessage":"","type":"void","indexKey":"","optional":false,"description":"","line":19,"modifierKind":[148],"required":false}],"propertiesClass":[],"methodsClass":[],"deprecated":false,"deprecationMessage":"","hostBindings":[],"hostListeners":[],"standalone":false,"imports":[{"name":"UiTooltipComponent","type":"component"},{"name":"UiPopoverDirective","type":"directive"}],"description":"","rawdescription":"\\n","type":"component","sourceCode":"import { Component, computed, input, output } from \'@angular/core\';\\nimport { UiPopoverDirective, UiTooltipComponent } from \'@cocco3/angular-ui\';\\nimport { formatIsoDate, formatDays, formatComplex } from \'@cocco3/utils\';\\n\\nexport const CountdownFormats = [\'days\', \'detailed\'] as const;\\nexport type CountdownFormat = (typeof CountdownFormats)[number];\\n\\n@Component({\\n  imports: [UiTooltipComponent, UiPopoverDirective],\\n  selector: \'app-countdown\',\\n  styleUrl: \'./countdown.css\',\\n  templateUrl: \'./countdown.html\',\\n})\\nexport class CountdownComponent {\\n  date = input.required<string>();\\n  name = input.required<string>();\\n  format = input.required<CountdownFormat>();\\n\\n  readonly clicked = output<void>();\\n\\n  protected handleClick() {\\n    this.clicked.emit();\\n  }\\n\\n  protected formattedDate = computed(() => {\\n    return formatIsoDate(this.date(), { date: \'long\', time: \'short\' });\\n  });\\n\\n  protected displayName = computed(() => {\\n    return this.name().trim() || \'Event\';\\n  });\\n\\n  protected displayDate = computed(() => {\\n    return this.format() === \'days\'\\n      ? formatDays(this.date())\\n      : formatComplex(this.date());\\n  });\\n}\\n","styleUrl":"./countdown.css","assetsDirs":[],"styleUrlsData":"","stylesData":"","extends":[],"templateData":"<div>\\n  <span\\n    class=\\"name\\"\\n    #dateTooltipAnchor\\n    (mouseenter)=\\"tooltip.show()\\"\\n    (mouseleave)=\\"tooltip.hide()\\"\\n    (touchstart)=\\"tooltip.toggle()\\"\\n  >\\n    {{ displayName() }}\\n  </span>\\n  <ui-tooltip\\n    uiPopover=\\"tooltip\\"\\n    #tooltip=\\"uiPopover\\"\\n    [anchor]=\\"dateTooltipAnchor\\"\\n    offset=\\"8\\"\\n    placement=\\"after-center\\"\\n  >\\n    {{ formattedDate() }}\\n  </ui-tooltip>\\n</div>\\n\\n<button class=\\"time\\" (click)=\\"handleClick()\\">\\n  {{ displayDate() }}\\n</button>\\n"},{"name":"CreateEventDialogComponent","id":"component-CreateEventDialogComponent-95bd4d1e563fdb58b310afeca9d3d8b6e8d85daf804236194035eb5f12a7ed3140627f4bc5cc7c13376bdd93a3b2186b14b6aaf115fd789dcd6ee4f65f942b9b","file":"projects/countdown/src/app/events/create-event-dialog/create-event-dialog.component.ts","encapsulation":[],"entryComponents":[],"inputs":[],"outputs":[],"providers":[],"selector":"app-create-event-dialog","styleUrls":[],"styles":[],"templateUrl":["./create-event-dialog.html"],"viewProviders":[],"hostDirectives":[],"inputsClass":[],"outputsClass":[{"name":"success","deprecated":false,"deprecationMessage":"","indexKey":"","optional":false,"description":"","line":50,"modifierKind":[148],"required":false}],"propertiesClass":[],"methodsClass":[{"name":"showDialog","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":93,"deprecated":false,"deprecationMessage":"","modifierKind":[125]}],"deprecated":false,"deprecationMessage":"","hostBindings":[],"hostListeners":[],"standalone":false,"imports":[{"name":"ReactiveFormsModule","type":"module"},{"name":"UiAlertComponent","type":"component"},{"name":"UiButtonComponent","type":"component"},{"name":"UiDialogComponent","type":"component"},{"name":"UiFormFieldComponent","type":"component"},{"name":"UiInputComponent","type":"component"},{"name":"UiTextareaComponent","type":"component"}],"description":"","rawdescription":"\\n","type":"component","sourceCode":"import { Component, computed, inject, output, viewChild } from \'@angular/core\';\\nimport {\\n  type FormGroup,\\n  NonNullableFormBuilder,\\n  ReactiveFormsModule,\\n} from \'@angular/forms\';\\nimport {\\n  UiAlertComponent,\\n  UiButtonComponent,\\n  UiDialogComponent,\\n  UiFormFieldComponent,\\n  UiInputComponent,\\n  UiTextareaComponent,\\n} from \'@cocco3/angular-ui\';\\nimport { getToday } from \'@cocco3/utils\';\\nimport { GoogleCalendarService } from \'../../services/GoogleCalendarService\';\\nimport { UserSettingsService } from \'../../services/UserSettingsService\';\\nimport { LoggerService } from \'../../services/LoggerService\';\\nimport {\\n  createEventSchema,\\n  type CreateEventModel,\\n} from \'./create-event-schema\';\\n\\n@Component({\\n  imports: [\\n    ReactiveFormsModule,\\n    UiAlertComponent,\\n    UiButtonComponent,\\n    UiDialogComponent,\\n    UiFormFieldComponent,\\n    UiInputComponent,\\n    UiTextareaComponent,\\n  ],\\n  selector: \'app-create-event-dialog\',\\n  styleUrl: \'./create-event-dialog.css\',\\n  templateUrl: \'./create-event-dialog.html\',\\n})\\nexport class CreateEventDialogComponent {\\n  private formBuilder = inject(NonNullableFormBuilder);\\n  private calendarService = inject(GoogleCalendarService);\\n  private logger = inject(LoggerService);\\n\\n  private readonly userSettingsService = inject(UserSettingsService);\\n  private readonly userSettings = computed(() =>\\n    this.userSettingsService.settings()\\n  );\\n\\n  private dialog = viewChild<UiDialogComponent>(\'dialog\');\\n\\n  readonly success = output();\\n\\n  protected error = \'\';\\n  protected isSaving = false;\\n  protected createEventForm: FormGroup;\\n  protected formErrors: Partial<CreateEventModel> = {};\\n\\n  private formSchema = computed(() =>\\n    createEventSchema({\\n      query: this.userSettings().query,\\n      timeZone: this.userSettings().timeZone,\\n    })\\n  );\\n\\n  constructor() {\\n    const defaultDate = getToday();\\n\\n    this.createEventForm = this.formBuilder.group({\\n      name: \'\',\\n      description: this.userSettings().query,\\n      startDate: defaultDate,\\n      startTime: \'\',\\n      endDate: defaultDate,\\n      endTime: \'\',\\n    });\\n\\n    // update endDate to be on or after startDate\\n    this.createEventForm\\n      .get(\'startDate\')\\n      ?.valueChanges.subscribe((startDate) => {\\n        const endDateControl = this.createEventForm.get(\'endDate\');\\n        if (endDateControl) {\\n          const endDate = endDateControl.value;\\n\\n          if (endDate && new Date(endDate) < new Date(startDate)) {\\n            endDateControl.setValue(startDate);\\n          }\\n\\n          endDateControl.updateValueAndValidity();\\n        }\\n      });\\n  }\\n\\n  public showDialog() {\\n    this.dialog()?.showModal();\\n  }\\n\\n  protected resetForm() {\\n    this.createEventForm.reset();\\n    this.formErrors = {};\\n    this.error = \'\';\\n  }\\n\\n  protected handleSubmit() {\\n    const formData = this.createEventForm.value;\\n    const validationResult = this.formSchema().safeParse(formData);\\n\\n    if (validationResult.success) {\\n      this.formErrors = {};\\n      this.error = \'\';\\n      this.isSaving = true;\\n\\n      this.calendarService\\n        .createEvent({\\n          calendarId: this.userSettings().defaultCalendarId,\\n          summary: validationResult.data.name,\\n          description: validationResult.data.description,\\n          startDate: validationResult.data.startDate,\\n          startTime: validationResult.data.startTime,\\n          endDate: validationResult.data.endDate,\\n          endTime: validationResult.data.endTime,\\n          timeZone: this.userSettings().timeZone,\\n        })\\n        .subscribe({\\n          next: (_response) => {\\n            this.isSaving = false;\\n            this.success.emit();\\n            this.dialog()?.close();\\n          },\\n          error: (error) => {\\n            this.isSaving = false;\\n            this.error =\\n              \'There was an error creating the event. Please try again.\';\\n            this.logger.error(\'Error creating event\', error as Error);\\n          },\\n        });\\n    } else {\\n      this.formErrors = validationResult.error.issues.reduce(\\n        (acc, error) => {\\n          acc[error.path[0].toString()] = error.message;\\n          return acc;\\n        },\\n        {} as Record<string, string>\\n      );\\n    }\\n  }\\n}\\n","styleUrl":"./create-event-dialog.css","assetsDirs":[],"styleUrlsData":"","stylesData":"","constructorObj":{"name":"constructor","description":"","deprecated":false,"deprecationMessage":"","args":[],"line":62},"extends":[],"templateData":"<dialog\\n  #dialog\\n  ui-dialog\\n  heading=\\"Add Event\\"\\n  description=\\"Leave both times empty for an all day event.\\"\\n  (afterClose)=\\"resetForm()\\"\\n>\\n  <form\\n    id=\\"createEventForm\\"\\n    class=\\"form\\"\\n    [formGroup]=\\"createEventForm\\"\\n    (submit)=\\"handleSubmit()\\"\\n  >\\n    <ui-form-field [label]=\\"\'Name\'\\" [error]=\\"formErrors.name\\">\\n      <input ui-input type=\\"text\\" formControlName=\\"name\\" autocomplete=\\"off\\" />\\n    </ui-form-field>\\n\\n    <ui-form-field [label]=\\"\'Description\'\\" [error]=\\"formErrors.description\\">\\n      <textarea\\n        ui-textarea\\n        autosize\\n        formControlName=\\"description\\"\\n        [style.min-height]=\\"\'1lh\'\\"\\n      ></textarea>\\n    </ui-form-field>\\n\\n    <div class=\\"dateTime\\">\\n      <ui-form-field [label]=\\"\'Start Date\'\\" [error]=\\"formErrors.startDate\\">\\n        <input ui-input type=\\"date\\" formControlName=\\"startDate\\" #startDate />\\n      </ui-form-field>\\n      <ui-form-field [label]=\\"\'Start Time\'\\" [error]=\\"formErrors.startTime\\">\\n        <input ui-input type=\\"time\\" step=\\"900\\" formControlName=\\"startTime\\" />\\n      </ui-form-field>\\n    </div>\\n\\n    <div class=\\"dateTime\\">\\n      <ui-form-field [label]=\\"\'End Date\'\\" [error]=\\"formErrors.endDate\\">\\n        <input\\n          ui-input\\n          type=\\"date\\"\\n          formControlName=\\"endDate\\"\\n          [min]=\\"startDate.elementRef.nativeElement.value\\"\\n        />\\n      </ui-form-field>\\n      <ui-form-field [label]=\\"\'End Time\'\\" [error]=\\"formErrors.endTime\\">\\n        <input ui-input type=\\"time\\" step=\\"900\\" formControlName=\\"endTime\\" />\\n      </ui-form-field>\\n    </div>\\n  </form>\\n\\n  @if (error) {\\n    <p>\\n      <ui-alert kind=\\"negative\\">{{ error }}</ui-alert>\\n    </p>\\n  }\\n\\n  <button\\n    ui-button\\n    uiSlot=\\"cancel\\"\\n    kind=\\"secondary\\"\\n    size=\\"medium\\"\\n    weight=\\"outline\\"\\n    (click)=\\"dialog.close()\\"\\n  >\\n    Cancel\\n  </button>\\n  <button\\n    ui-button\\n    uiSlot=\\"submit\\"\\n    kind=\\"primary\\"\\n    size=\\"medium\\"\\n    type=\\"submit\\"\\n    form=\\"createEventForm\\"\\n    [disabled]=\\"isSaving\\"\\n    [loading]=\\"isSaving\\"\\n  >\\n    Save\\n  </button>\\n</dialog>\\n"},{"name":"EventsEmptyComponent","id":"component-EventsEmptyComponent-a50dece3061bc5893484b33fdc5a9dda2c4d33ccba41aff8529e1941a39c14594445af867c085a76b028492489a2a8aaeb0a6959078ab84c5ad3f6dcc7c6a66c","file":"projects/countdown/src/app/events/events-empty/events-empty.component.ts","encapsulation":[],"entryComponents":[],"inputs":[],"outputs":[],"providers":[],"selector":"app-events-empty","styleUrls":[],"styles":[],"templateUrl":["./events-empty.html"],"viewProviders":[],"hostDirectives":[],"inputsClass":[],"outputsClass":[{"name":"createClicked","deprecated":false,"deprecationMessage":"","indexKey":"","optional":false,"description":"","line":26,"modifierKind":[148],"required":false}],"propertiesClass":[],"methodsClass":[],"deprecated":false,"deprecationMessage":"","hostBindings":[],"hostListeners":[],"standalone":false,"imports":[{"name":"RouterLink"},{"name":"UiButtonComponent","type":"component"},{"name":"UiEmptyComponent","type":"component"},{"name":"UiIconComponent","type":"component"},{"name":"UiSlotDirective","type":"directive"}],"description":"","rawdescription":"\\n","type":"component","sourceCode":"import { Component, computed, inject, output } from \'@angular/core\';\\nimport { RouterLink } from \'@angular/router\';\\nimport {\\n  UiButtonComponent,\\n  UiEmptyComponent,\\n  UiIconComponent,\\n  UiSlotDirective,\\n} from \'@cocco3/angular-ui\';\\nimport { UserSettingsService } from \'../../services/UserSettingsService\';\\n\\n@Component({\\n  imports: [\\n    RouterLink,\\n    UiButtonComponent,\\n    UiEmptyComponent,\\n    UiIconComponent,\\n    UiSlotDirective,\\n  ],\\n  selector: \'app-events-empty\',\\n  templateUrl: \'./events-empty.html\',\\n})\\nexport class EventsEmptyComponent {\\n  private readonly userSettingsService = inject(UserSettingsService);\\n  protected query = computed(() => this.userSettingsService.settings().query);\\n\\n  readonly createClicked = output();\\n\\n  protected handleClick() {\\n    this.createClicked.emit();\\n  }\\n}\\n","assetsDirs":[],"styleUrlsData":"","stylesData":"","extends":[],"templateData":"<ui-empty heading=\\"Looks like you don\'t have any countdowns!\\">\\n  <ui-icon uiSlot=\\"image\\" kind=\\"calendar\\" size=\\"80px\\" />\\n  <div uiSlot=\\"content\\">\\n    <p>\\n      Go to\\n      <a href=\\"https://calendar.google.com\\" target=\\"_blank\\">Google Calendar</a>\\n      and add \\"<code>{{ query() }}</code\\n      >\\" to the description of any existing event, or click the button to create\\n      a new event.\\n    </p>\\n    <p>\\n      You can also change your query word in\\n      <a routerLink=\\"/settings\\">settings</a>.\\n    </p>\\n    <p>\\n      <button ui-button kind=\\"primary\\" size=\\"large\\" (click)=\\"handleClick()\\">\\n        Add Event\\n      </button>\\n    </p>\\n  </div>\\n</ui-empty>\\n"},{"name":"PageEventsComponent","id":"component-PageEventsComponent-b3612e88f6bc06f7287a253f90048f942cb0d9817bd6011da4a9e5a33ac5f79c1d3604397d555b8d1330c6fb694216d7e921265b984c905a417c324326c11a76","file":"projects/countdown/src/app/events/page-events/page-events.component.ts","encapsulation":[],"entryComponents":[],"inputs":[],"outputs":[],"providers":[],"selector":"app-page-events","styleUrls":[],"styles":[],"templateUrl":["./page-events.html"],"viewProviders":[],"hostDirectives":[],"inputsClass":[],"outputsClass":[],"propertiesClass":[],"methodsClass":[],"deprecated":false,"deprecationMessage":"","hostBindings":[],"hostListeners":[],"standalone":false,"imports":[{"name":"CountdownComponent","type":"component"},{"name":"CreateEventDialogComponent","type":"component"},{"name":"EventsEmptyComponent","type":"component"},{"name":"UiButtonComponent","type":"component"}],"description":"","rawdescription":"\\n","type":"component","sourceCode":"import {\\n  Component,\\n  computed,\\n  inject,\\n  type OnInit,\\n  signal,\\n} from \'@angular/core\';\\nimport { Title } from \'@angular/platform-browser\';\\nimport { compareAsc } from \'date-fns\';\\nimport { UiButtonComponent } from \'@cocco3/angular-ui\';\\nimport { GoogleCalendarService } from \'../../services/GoogleCalendarService\';\\nimport { UserSettingsService } from \'../../services/UserSettingsService\';\\nimport {\\n  CountdownComponent,\\n  type CountdownFormat,\\n} from \'../countdown/countdown.component\';\\nimport { EventsEmptyComponent } from \'../events-empty/events-empty.component\';\\nimport { CreateEventDialogComponent } from \'../create-event-dialog/create-event-dialog.component\';\\n\\ntype EventItem = {\\n  id: string;\\n  name: string;\\n  date: string;\\n};\\n\\n@Component({\\n  imports: [\\n    CountdownComponent,\\n    CreateEventDialogComponent,\\n    EventsEmptyComponent,\\n    UiButtonComponent,\\n  ],\\n  selector: \'app-page-events\',\\n  styleUrl: \'./page-events.css\',\\n  templateUrl: \'./page-events.html\',\\n})\\nexport class PageEventsComponent implements OnInit {\\n  private readonly calendarService = inject(GoogleCalendarService);\\n  private readonly title = inject(Title);\\n\\n  private readonly userSettingsService = inject(UserSettingsService);\\n  private readonly userSettings = computed(() =>\\n    this.userSettingsService.settings()\\n  );\\n\\n  protected format = signal<CountdownFormat>(this.userSettings().defaultFormat);\\n\\n  protected items = signal<EventItem[] | null>(null);\\n  protected hasItems = computed(() => {\\n    const itemsCount = this.items()?.length || 0;\\n    return itemsCount > 0;\\n  });\\n\\n  protected handleCountdownClick() {\\n    if (this.format() === \'days\') {\\n      this.format.set(\'detailed\');\\n    } else {\\n      this.format.set(\'days\');\\n    }\\n  }\\n\\n  protected fetchItems() {\\n    this.calendarService\\n      .getEvents({\\n        calendarId: this.userSettings().defaultCalendarId,\\n        query: this.userSettings().query,\\n      })\\n      .subscribe({\\n        next: (events) => {\\n          const transformedEvents = events.sort((a, b) =>\\n            compareAsc(a.date, b.date)\\n          );\\n          this.items.set(transformedEvents);\\n        },\\n        error: (error) => {\\n          console.error(\'Error loading countdown events:\', error);\\n        },\\n      });\\n  }\\n\\n  ngOnInit() {\\n    this.fetchItems();\\n  }\\n\\n  constructor() {\\n    this.title.setTitle(\'Events - CountdownApp\');\\n  }\\n}\\n","styleUrl":"./page-events.css","assetsDirs":[],"styleUrlsData":"","stylesData":"","constructorObj":{"name":"constructor","description":"","deprecated":false,"deprecationMessage":"","args":[],"line":83},"extends":[],"implements":["OnInit"],"templateData":"@if (items() === null) {\\n  <div>Getting your events...</div>\\n} @else if (hasItems()) {\\n  <div class=\\"container\\">\\n    @for (item of items(); track item.id) {\\n      <app-countdown\\n        [date]=\\"item.date\\"\\n        [name]=\\"item.name\\"\\n        [format]=\\"format()\\"\\n        (clicked)=\\"handleCountdownClick()\\"\\n      />\\n    }\\n  </div>\\n  <div>\\n    <button\\n      ui-button\\n      kind=\\"primary\\"\\n      size=\\"large\\"\\n      (click)=\\"createEventDialog.showDialog()\\"\\n    >\\n      Add Event\\n    </button>\\n  </div>\\n} @else {\\n  <app-events-empty (createClicked)=\\"createEventDialog.showDialog()\\" />\\n}\\n\\n<app-create-event-dialog #createEventDialog (success)=\\"fetchItems()\\" />\\n"},{"name":"PageLoginComponent","id":"component-PageLoginComponent-9b152e72a4b8712bb1b66cd8e647c4cba165bd6cfbff8f9ea5f1dfc4eb6c326f0a66e2fe26639decf102dde9988cc7d31bda91aec9cf04fc6ac876eee18e7a9a","file":"projects/countdown/src/app/page-login/page-login.component.ts","encapsulation":[],"entryComponents":[],"inputs":[],"outputs":[],"providers":[],"selector":"app-page-login","styleUrls":[],"styles":[],"templateUrl":["./page-login.html"],"viewProviders":[],"hostDirectives":[],"inputsClass":[],"outputsClass":[],"propertiesClass":[],"methodsClass":[{"name":"login","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":30,"deprecated":false,"deprecationMessage":""}],"deprecated":false,"deprecationMessage":"","hostBindings":[],"hostListeners":[],"standalone":false,"imports":[{"name":"UiButtonComponent","type":"component"},{"name":"UiWrapperComponent","type":"component"},{"name":"UiIconComponent","type":"component"},{"name":"UiAlertComponent","type":"component"}],"description":"","rawdescription":"\\n","type":"component","sourceCode":"import { Component, computed, inject, type OnInit } from \'@angular/core\';\\nimport { Title } from \'@angular/platform-browser\';\\nimport {\\n  UiButtonComponent,\\n  UiWrapperComponent,\\n  UiIconComponent,\\n} from \'@cocco3/angular-ui\';\\nimport { GoogleAuthService } from \'../services/GoogleAuthService\';\\nimport { EnvironmentService } from \'../services/EnvironmentService\';\\nimport { UiAlertComponent } from \'../../../../ui/src/lib/base/alert/alert.component\';\\n\\n@Component({\\n  imports: [\\n    UiButtonComponent,\\n    UiWrapperComponent,\\n    UiIconComponent,\\n    UiAlertComponent,\\n  ],\\n  selector: \'app-page-login\',\\n  styleUrl: \'./page-login.css\',\\n  templateUrl: \'./page-login.html\',\\n})\\nexport class PageLoginComponent implements OnInit {\\n  private env = inject(EnvironmentService);\\n  private auth = inject(GoogleAuthService);\\n  private title = inject(Title);\\n\\n  protected error = computed(() => this.auth.loginError());\\n\\n  login() {\\n    this.auth.requestAccessToken();\\n  }\\n\\n  ngOnInit() {\\n    this.auth.initialize({\\n      clientId: this.env.config.googleClientId,\\n      scopes: [\\n        \'https://www.googleapis.com/auth/userinfo.email\',\\n        \'https://www.googleapis.com/auth/userinfo.profile\',\\n        \'https://www.googleapis.com/auth/calendar.events\',\\n      ],\\n    });\\n  }\\n\\n  constructor() {\\n    this.title.setTitle(\'Login - CountdownApp\');\\n  }\\n}\\n","styleUrl":"./page-login.css","assetsDirs":[],"styleUrlsData":"","stylesData":"","constructorObj":{"name":"constructor","description":"","deprecated":false,"deprecationMessage":"","args":[],"line":43},"extends":[],"implements":["OnInit"],"templateData":"<ui-wrapper class=\\"container\\">\\n  <div class=\\"logo\\">\\n    <ui-icon kind=\\"countdown\\" size=\\"44px\\" />\\n    CountdownApp\\n  </div>\\n\\n  <p>\\n    CountdownApp integrates with Google Calendar to turn selected events into\\n    countdowns.\\n  </p>\\n  <p>Sign in with your Google account to get started!</p>\\n  <p>\\n    <button ui-button kind=\\"secondary\\" size=\\"medium\\" (click)=\\"login()\\">\\n      Sign In with Google\\n    </button>\\n  </p>\\n  @if (error()) {\\n    <ui-alert kind=\\"negative\\" class=\\"alert\\">{{ error() }}</ui-alert>\\n  }\\n</ui-wrapper>\\n"},{"name":"PageSettingsComponent","id":"component-PageSettingsComponent-e006fa197366098a5fb9208817966e799614e7ef66e1a125a7bb47b18fbc76179df36989d19deffcefce06ddb9cb155768c78e68e0110210badf802759d6e434","file":"projects/countdown/src/app/settings/page-settings/page-settings.component.ts","encapsulation":[],"entryComponents":[],"inputs":[],"outputs":[],"providers":[],"selector":"app-page-settings","styleUrls":[],"styles":[],"templateUrl":["./page-settings.html"],"viewProviders":[],"hostDirectives":[],"inputsClass":[],"outputsClass":[],"propertiesClass":[],"methodsClass":[],"deprecated":false,"deprecationMessage":"","hostBindings":[],"hostListeners":[],"standalone":false,"imports":[{"name":"UnlinkGoogleDialogComponent","type":"component"},{"name":"UiButtonComponent","type":"component"},{"name":"UiIconComponent","type":"component"},{"name":"SettingsPanelComponent","type":"component"},{"name":"UserSettingsPanelComponent","type":"component"}],"description":"","rawdescription":"\\n","type":"component","sourceCode":"import { Component, inject } from \'@angular/core\';\\nimport { Router } from \'@angular/router\';\\nimport { Title } from \'@angular/platform-browser\';\\nimport { UiButtonComponent, UiIconComponent } from \'@cocco3/angular-ui\';\\nimport { GoogleAuthService } from \'../../services/GoogleAuthService\';\\nimport { UnlinkGoogleDialogComponent } from \'../unlink-google-dialog/unlink-google-dialog.component\';\\nimport { SettingsPanelComponent } from \'../settings-panel/settings-panel.component\';\\nimport { UserSettingsPanelComponent } from \'../user-settings-panel/user-settings-panel.component\';\\n\\n@Component({\\n  imports: [\\n    UnlinkGoogleDialogComponent,\\n    UiButtonComponent,\\n    UiIconComponent,\\n    SettingsPanelComponent,\\n    UserSettingsPanelComponent,\\n  ],\\n  selector: \'app-page-settings\',\\n  styleUrl: \'./page-settings.css\',\\n  templateUrl: \'./page-settings.html\',\\n})\\nexport class PageSettingsComponent {\\n  private auth = inject(GoogleAuthService);\\n  private router = inject(Router);\\n  private title = inject(Title);\\n\\n  constructor() {\\n    this.title.setTitle(\'Settings - CountdownApp\');\\n  }\\n\\n  protected logOut() {\\n    this.auth.clearAccessToken();\\n    this.router.navigate([\'/login\']);\\n  }\\n}\\n","styleUrl":"./page-settings.css","assetsDirs":[],"styleUrlsData":"","stylesData":"","constructorObj":{"name":"constructor","description":"","deprecated":false,"deprecationMessage":"","args":[],"line":25},"extends":[],"templateData":"<div class=\\"container\\">\\n  <app-settings-panel heading=\\"Settings\\">\\n    <app-user-settings-panel />\\n  </app-settings-panel>\\n\\n  <app-settings-panel heading=\\"Linked accounts\\">\\n    <div class=\\"row\\">\\n      <div class=\\"app\\">\\n        <ui-icon kind=\\"google\\" size=\\"32px\\" />\\n        Google\\n      </div>\\n      <button\\n        ui-button\\n        size=\\"medium\\"\\n        kind=\\"secondary\\"\\n        weight=\\"ghost\\"\\n        (click)=\\"unlinkGoogleDialog.showDialog()\\"\\n      >\\n        Unlink\\n      </button>\\n    </div>\\n    <app-unlink-google-dialog #unlinkGoogleDialog />\\n  </app-settings-panel>\\n\\n  <app-settings-panel heading=\\"Session\\">\\n    <button ui-button kind=\\"primary\\" size=\\"large\\" (click)=\\"logOut()\\">\\n      Sign Out\\n    </button>\\n  </app-settings-panel>\\n</div>\\n"},{"name":"SettingsPanelComponent","id":"component-SettingsPanelComponent-8ba2de653c14e41652286b363a4b417dd7a1cd05a89e64051370ee211991a6f25970432245edac5f5e525a8858f4602069a1677a2f69c1319da9824f6d9a62a6","file":"projects/countdown/src/app/settings/settings-panel/settings-panel.component.ts","encapsulation":[],"entryComponents":[],"inputs":[],"outputs":[],"providers":[],"selector":"app-settings-panel","styleUrls":[],"styles":[],"templateUrl":["./settings-panel.html"],"viewProviders":[],"hostDirectives":[],"inputsClass":[{"name":"heading","deprecated":false,"deprecationMessage":"","type":"string","indexKey":"","optional":false,"description":"","line":9,"required":true}],"outputsClass":[],"propertiesClass":[],"methodsClass":[],"deprecated":false,"deprecationMessage":"","hostBindings":[],"hostListeners":[],"standalone":false,"imports":[],"description":"","rawdescription":"\\n","type":"component","sourceCode":"import { Component, input } from \'@angular/core\';\\n\\n@Component({\\n  selector: \'app-settings-panel\',\\n  styleUrl: \'./settings-panel.css\',\\n  templateUrl: \'./settings-panel.html\',\\n})\\nexport class SettingsPanelComponent {\\n  heading = input.required<string>();\\n}\\n","styleUrl":"./settings-panel.css","assetsDirs":[],"styleUrlsData":"","stylesData":"","extends":[],"templateData":"<div class=\\"header\\">\\n  <h2 class=\\"title\\">{{ heading() }}</h2>\\n</div>\\n\\n<div class=\\"content\\">\\n  <ng-content />\\n</div>\\n"},{"name":"UnlinkGoogleDialogComponent","id":"component-UnlinkGoogleDialogComponent-81812371c3d75905a33b804c96129b977f9a92a448bc6c09402c4bb3b82738a487129e3083340386b9acf8aa83716f8fbc93bbfad54095e8102f60f44e408cc3","file":"projects/countdown/src/app/settings/unlink-google-dialog/unlink-google-dialog.component.ts","encapsulation":[],"entryComponents":[],"inputs":[],"outputs":[],"providers":[],"selector":"app-unlink-google-dialog","styleUrls":[],"styles":[],"templateUrl":["./unlink-google-dialog.html"],"viewProviders":[],"hostDirectives":[],"inputsClass":[],"outputsClass":[],"propertiesClass":[],"methodsClass":[{"name":"showDialog","args":[],"optional":false,"returnType":"void","typeParameters":[],"line":49,"deprecated":false,"deprecationMessage":"","modifierKind":[125]}],"deprecated":false,"deprecationMessage":"","hostBindings":[],"hostListeners":[],"standalone":false,"imports":[{"name":"UiButtonComponent","type":"component"},{"name":"UiDialogComponent","type":"component"},{"name":"UiAlertComponent","type":"component"}],"description":"","rawdescription":"\\n","type":"component","sourceCode":"import { Component, inject, viewChild } from \'@angular/core\';\\nimport { Router } from \'@angular/router\';\\nimport {\\n  UiAlertComponent,\\n  UiButtonComponent,\\n  UiDialogComponent,\\n} from \'@cocco3/angular-ui\';\\nimport { GoogleAuthService } from \'../../services/GoogleAuthService\';\\nimport { LoggerService } from \'../../services/LoggerService\';\\n\\n@Component({\\n  imports: [UiButtonComponent, UiDialogComponent, UiAlertComponent],\\n  selector: \'app-unlink-google-dialog\',\\n  templateUrl: \'./unlink-google-dialog.html\',\\n})\\nexport class UnlinkGoogleDialogComponent {\\n  private logger = inject(LoggerService);\\n  private auth = inject(GoogleAuthService);\\n  private router = inject(Router);\\n\\n  private dialog = viewChild<UiDialogComponent>(\'dialog\');\\n\\n  protected error = \'\';\\n  protected isSaving = false;\\n\\n  protected resetForm() {\\n    this.isSaving = false;\\n    this.error = \'\';\\n  }\\n\\n  protected async revokeGoogleConsent() {\\n    try {\\n      this.isSaving = true;\\n      this.error = \'\';\\n\\n      const result = await this.auth.revokeConsent();\\n\\n      if (result.successful) {\\n        this.router.navigate([\'/login\']);\\n      }\\n    } catch (err) {\\n      this.isSaving = false;\\n      this.error =\\n        \'There was a problem unlinking your Google account, please try again.\';\\n      this.logger.error(\'Error unlinking Google\', err as Error);\\n    }\\n  }\\n\\n  public showDialog() {\\n    this.dialog()?.showModal();\\n  }\\n}\\n","assetsDirs":[],"styleUrlsData":"","stylesData":"","extends":[],"templateData":"<dialog #dialog ui-dialog heading=\\"Unlink Google\\" (afterClose)=\\"resetForm()\\">\\n  <p>\\n    Are you sure you want to unlink your Google account? This will also log you\\n    out of your current session.\\n  </p>\\n\\n  @if (error) {\\n    <ui-alert kind=\\"negative\\">{{ error }}</ui-alert>\\n  }\\n\\n  <button\\n    ui-button\\n    uiSlot=\\"cancel\\"\\n    kind=\\"secondary\\"\\n    size=\\"medium\\"\\n    (click)=\\"dialog.close()\\"\\n  >\\n    Cancel\\n  </button>\\n  <button\\n    ui-button\\n    uiSlot=\\"submit\\"\\n    kind=\\"destructive\\"\\n    size=\\"medium\\"\\n    type=\\"button\\"\\n    (click)=\\"revokeGoogleConsent()\\"\\n    [disabled]=\\"isSaving\\"\\n    [loading]=\\"isSaving\\"\\n  >\\n    Unlink\\n  </button>\\n</dialog>\\n"},{"name":"UserSettingsPanelComponent","id":"component-UserSettingsPanelComponent-ad4d68d8a3a20f29a90600fe3834bfbc0b508f85aca0e3aeca1024a68eab26d75a1cb3106d25a984150af4442ee8e853a3092951f6c17540866c7837f78258e9","file":"projects/countdown/src/app/settings/user-settings-panel/user-settings-panel.component.ts","encapsulation":[],"entryComponents":[],"inputs":[],"outputs":[],"providers":[],"selector":"app-user-settings-panel","styleUrls":[],"styles":[],"templateUrl":["./user-settings-panel.html"],"viewProviders":[],"hostDirectives":[],"inputsClass":[],"outputsClass":[],"propertiesClass":[],"methodsClass":[],"deprecated":false,"deprecationMessage":"","hostBindings":[],"hostListeners":[],"standalone":false,"imports":[{"name":"ReactiveFormsModule","type":"module"},{"name":"UiButtonComponent","type":"component"},{"name":"UiFormFieldComponent","type":"component"},{"name":"UiInputComponent","type":"component"},{"name":"UiSelectionGroupComponent","type":"component"}],"description":"","rawdescription":"\\n","type":"component","sourceCode":"import { Component, computed, inject } from \'@angular/core\';\\nimport { NonNullableFormBuilder, ReactiveFormsModule } from \'@angular/forms\';\\nimport {\\n  UiButtonComponent,\\n  UiFormFieldComponent,\\n  UiInputComponent,\\n  UiSelectionGroupComponent,\\n  UiToastService,\\n} from \'@cocco3/angular-ui\';\\nimport { UserSettingsService } from \'../../services/UserSettingsService\';\\nimport {\\n  userSettingsSchema,\\n  type UserSettingsModel,\\n} from \'./user-settings-schema\';\\nimport {\\n  type UserSettingFormat,\\n  UserSettingFormats,\\n  type UserSettingTheme,\\n  UserSettingThemes,\\n} from \'../../services/LocalStorageService\';\\n\\n@Component({\\n  imports: [\\n    ReactiveFormsModule,\\n    UiButtonComponent,\\n    UiFormFieldComponent,\\n    UiInputComponent,\\n    UiSelectionGroupComponent,\\n  ],\\n  selector: \'app-user-settings-panel\',\\n  styleUrl: \'./user-settings-panel.css\',\\n  templateUrl: \'./user-settings-panel.html\',\\n})\\nexport class UserSettingsPanelComponent {\\n  private readonly formBuilder = inject(NonNullableFormBuilder);\\n  private readonly toastService = inject(UiToastService);\\n\\n  private readonly userSettingsService = inject(UserSettingsService);\\n  private readonly userSettings = computed(() =>\\n    this.userSettingsService.settings()\\n  );\\n\\n  protected isSaving = false;\\n  protected formErrors: Partial<UserSettingsModel> = {};\\n\\n  private _themeMap = {\\n    auto: \'Auto\',\\n    light: \'Light\',\\n    dark: \'Dark\',\\n  } as const satisfies Record<UserSettingTheme, string>;\\n\\n  protected themeOptions = UserSettingThemes.map((value) => {\\n    const label = this._themeMap[value];\\n    return { value, label };\\n  });\\n\\n  private _formatMap = {\\n    detailed: {\\n      label: \'Detailed\',\\n      description: \'Show countdown as years/months/days\',\\n    },\\n    days: {\\n      label: \'Days\',\\n      description: \'Show countdown as total days\',\\n    },\\n  } as const satisfies Record<\\n    UserSettingFormat,\\n    { label: string; description: string }\\n  >;\\n\\n  protected formatOptions = UserSettingFormats.map((value) => {\\n    const item = this._formatMap[value];\\n    return { value, label: item.label, description: item.description };\\n  });\\n\\n  protected form = this.formBuilder.group({\\n    timeZone: this.userSettings().timeZone,\\n    query: this.userSettings().query,\\n    defaultCalendarId: this.userSettings().defaultCalendarId,\\n    defaultFormat: this.userSettings().defaultFormat,\\n    theme: this.userSettings().theme,\\n  });\\n\\n  protected async handleSubmit() {\\n    const formData = this.form.value;\\n    const validationResult = userSettingsSchema.safeParse(formData);\\n\\n    if (validationResult.success) {\\n      this.formErrors = {};\\n      this.isSaving = true;\\n\\n      await this.userSettingsService.save({\\n        defaultCalendarId: validationResult.data.defaultCalendarId,\\n        query: validationResult.data.query,\\n        theme: validationResult.data.theme,\\n        timeZone: validationResult.data.timeZone,\\n        defaultFormat: validationResult.data.defaultFormat,\\n      });\\n      this.form.markAsPristine();\\n      this.isSaving = false;\\n\\n      this.toastService.showMessage(\\n        \'Your changes have been saved successfully.\',\\n        {\\n          kind: \'positive\',\\n          heading: \'Settings updated\',\\n        }\\n      );\\n    } else {\\n      this.formErrors = validationResult.error.issues.reduce(\\n        (acc, error) => {\\n          acc[error.path[0].toString()] = error.message;\\n          return acc;\\n        },\\n        {} as Record<string, string>\\n      );\\n    }\\n  }\\n}\\n","styleUrl":"./user-settings-panel.css","assetsDirs":[],"styleUrlsData":"","stylesData":"","extends":[],"templateData":"<form class=\\"form\\" [formGroup]=\\"form\\" (ngSubmit)=\\"handleSubmit()\\">\\n  <ui-form-field [label]=\\"\'Query\'\\" [error]=\\"formErrors.query\\">\\n    <input ui-input type=\\"text\\" formControlName=\\"query\\" />\\n  </ui-form-field>\\n\\n  <ui-form-field [label]=\\"\'Timezone\'\\" [error]=\\"formErrors.timeZone\\">\\n    <input ui-input type=\\"text\\" readonly formControlName=\\"timeZone\\" />\\n  </ui-form-field>\\n\\n  <ui-form-field [label]=\\"\'Calendar\'\\" [error]=\\"formErrors.defaultCalendarId\\">\\n    <input ui-input type=\\"text\\" readonly formControlName=\\"defaultCalendarId\\" />\\n  </ui-form-field>\\n\\n  <ui-selection-group\\n    kind=\\"radio\\"\\n    groupName=\\"format\\"\\n    formControlName=\\"defaultFormat\\"\\n    [label]=\\"\'Format\'\\"\\n    [options]=\\"formatOptions\\"\\n    [error]=\\"formErrors.defaultFormat\\"\\n  />\\n\\n  <ui-selection-group\\n    kind=\\"radio\\"\\n    groupName=\\"theme\\"\\n    formControlName=\\"theme\\"\\n    direction=\\"row\\"\\n    [label]=\\"\'Theme\'\\"\\n    [options]=\\"themeOptions\\"\\n    [error]=\\"formErrors.theme\\"\\n  />\\n\\n  <p>\\n    <button\\n      ui-button\\n      type=\\"submit\\"\\n      kind=\\"primary\\"\\n      size=\\"large\\"\\n      [loading]=\\"isSaving\\"\\n      [disabled]=\\"isSaving\\"\\n    >\\n      {{ isSaving ? \'Saving…\' : \'Save\' }}\\n    </button>\\n  </p>\\n</form>\\n"}],"modules":[],"miscellaneous":{"variables":[{"name":"appConfig","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/app.config.ts","deprecated":false,"deprecationMessage":"","type":"ApplicationConfig","defaultValue":"{\\n  providers: [\\n    provideZoneChangeDetection({ eventCoalescing: true }),\\n    provideRouter(routes),\\n    provideHttpClient(withInterceptors([authInterceptor])),\\n\\n    provideToastConfig({\\n      dismissible: true,\\n      duration: 5000,\\n    }),\\n  ],\\n}"},{"name":"authInterceptor","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/services/AuthInterceptor.ts","deprecated":false,"deprecationMessage":"","type":"HttpInterceptorFn","defaultValue":"(req, next) => {\\n  const auth = inject(GoogleAuthService);\\n  const router = inject(Router);\\n\\n  return next(req).pipe(\\n    catchError((error) => {\\n      if (error.status === 401) {\\n        auth.clearAccessToken();\\n        router.navigate([\'/login\']);\\n      }\\n      return throwError(() => error);\\n    })\\n  );\\n}"},{"name":"CountdownFormats","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/events/countdown/countdown.component.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"[\'days\', \'detailed\'] as const"},{"name":"DEFAULT_SETTINGS","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/services/UserSettingsService.ts","deprecated":false,"deprecationMessage":"","type":"UserSettings","defaultValue":"{\\n  query: \'#countdown\',\\n  timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone,\\n  defaultCalendarId: \'primary\',\\n  defaultFormat: \'detailed\',\\n  theme: \'auto\',\\n}"},{"name":"environment","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/environments/environment.dev.ts","deprecated":false,"deprecationMessage":"","type":"EnvConfig","defaultValue":"{\\n  env: \'dev\',\\n  googleClientId: \'{{ GOOGLE_CLIENT_ID }}\',\\n}"},{"name":"environment","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/environments/environment.prod.ts","deprecated":false,"deprecationMessage":"","type":"EnvConfig","defaultValue":"{\\n  env: \'prod\',\\n  googleClientId: \'{{ GOOGLE_CLIENT_ID }}\',\\n}"},{"name":"environment","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/environments/environment.ts","deprecated":false,"deprecationMessage":"","type":"EnvConfig","defaultValue":"{\\n  env: \'local\',\\n  googleClientId: \'{{ GOOGLE_CLIENT_ID }}\',\\n}"},{"name":"mockCalendarEvents","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/events/page-events/mockCalendarEvents.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"(): EventsData[] => {\\n  return [\\n    {\\n      id: \'1\',\\n      name: \'Hello world\',\\n      date: \'2025-05-02T19:26:55.086Z\',\\n    },\\n    {\\n      id: \'2\',\\n      name: \'Foo bar\',\\n      date: \'2025-02-02T19:26:55.086Z\',\\n    },\\n  ];\\n}"},{"name":"prepDates","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/services/GoogleCalendarService.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"({\\n  date,\\n  time,\\n  timeZone,\\n}: {\\n  date: string;\\n  time?: string;\\n  timeZone: string;\\n}) => {\\n  if (time) {\\n    return { dateTime: createDateTimeZoned(date, time, timeZone) };\\n  } else {\\n    return { date };\\n  }\\n}"},{"name":"routes","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/app.routes.ts","deprecated":false,"deprecationMessage":"","type":"Routes","defaultValue":"[\\n  { path: \'login\', component: PageLoginComponent },\\n  {\\n    path: \'\',\\n    component: AppMainComponent,\\n    canActivate: [AuthGuardService],\\n    children: [\\n      { path: \'events\', component: PageEventsComponent },\\n      { path: \'settings\', component: PageSettingsComponent },\\n      { path: \'\', redirectTo: \'events\', pathMatch: \'full\' },\\n    ],\\n  },\\n  { path: \'**\', redirectTo: \'\' },\\n]"},{"name":"UserSettingFormats","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/services/LocalStorageService.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"[\'detailed\', \'days\'] as const"},{"name":"userSettingsSchema","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/settings/user-settings-panel/user-settings-schema.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"z.object({\\n  query: z\\n    .string()\\n    .trim()\\n    .refine((value) => value.trim().length > 0, {\\n      message: \'Query is required\',\\n    }),\\n  timeZone: z\\n    .string()\\n    .trim()\\n    .refine((value) => value.trim().length > 0, {\\n      message: \'TimeZone is required\',\\n    }),\\n  theme: z.enum(UserSettingThemes),\\n  defaultCalendarId: z\\n    .string()\\n    .trim()\\n    .refine((value) => value.trim().length > 0, {\\n      message: \'Calendar ID is required\',\\n    }),\\n  defaultFormat: z.enum(UserSettingFormats),\\n})"},{"name":"UserSettingThemes","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/services/LocalStorageService.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"[\'auto\', \'light\', \'dark\'] as const"}],"functions":[{"name":"createEventSchema","file":"projects/countdown/src/app/events/create-event-dialog/create-event-schema.ts","ctype":"miscellaneous","subtype":"function","deprecated":false,"deprecationMessage":"","description":"","args":[{"name":"query","type":"string","deprecated":false,"deprecationMessage":"","destrucuredGroupId":"6a031006-4f68-48b1-966a-eda62452af81","destructuredParameter":true},{"name":"timeZone","type":"string","deprecated":false,"deprecationMessage":"","destrucuredGroupId":"6a031006-4f68-48b1-966a-eda62452af81","destructuredParameter":true}],"jsdoctags":[{"name":"query","type":"string","deprecated":false,"deprecationMessage":"","destrucuredGroupId":"6a031006-4f68-48b1-966a-eda62452af81","destructuredParameter":true,"tagName":{"text":"param"}},{"name":"timeZone","type":"string","deprecated":false,"deprecationMessage":"","destrucuredGroupId":"6a031006-4f68-48b1-966a-eda62452af81","destructuredParameter":true,"tagName":{"text":"param"}}]}],"typealiases":[{"name":"ApiResponse","ctype":"miscellaneous","subtype":"typealias","rawtype":"literal type","file":"projects/countdown/src/app/services/GoogleCalendarService.ts","deprecated":false,"deprecationMessage":"","description":"","kind":187},{"name":"ApiResponse","ctype":"miscellaneous","subtype":"typealias","rawtype":"literal type","file":"projects/countdown/src/app/services/GoogleUserInfoService.ts","deprecated":false,"deprecationMessage":"","description":"","kind":187},{"name":"AppLocalStorage","ctype":"miscellaneous","subtype":"typealias","rawtype":"literal type","file":"projects/countdown/src/app/services/LocalStorageService.ts","deprecated":false,"deprecationMessage":"","description":"","kind":187},{"name":"AuthConfig","ctype":"miscellaneous","subtype":"typealias","rawtype":"literal type","file":"projects/countdown/src/app/services/GoogleAuthService.ts","deprecated":false,"deprecationMessage":"","description":"","kind":187},{"name":"CountdownFormat","ctype":"miscellaneous","subtype":"typealias","rawtype":"","file":"projects/countdown/src/app/events/countdown/countdown.component.ts","deprecated":false,"deprecationMessage":"","description":"","kind":199},{"name":"CreateEventModel","ctype":"miscellaneous","subtype":"typealias","rawtype":"literal type","file":"projects/countdown/src/app/events/create-event-dialog/create-event-schema.ts","deprecated":false,"deprecationMessage":"","description":"<p>TODO: can this be extracted from the schema</p>\\n","kind":187},{"name":"EnvConfig","ctype":"miscellaneous","subtype":"typealias","rawtype":"literal type","file":"projects/countdown/src/environments/types.ts","deprecated":false,"deprecationMessage":"","description":"","kind":187},{"name":"EventItem","ctype":"miscellaneous","subtype":"typealias","rawtype":"literal type","file":"projects/countdown/src/app/events/page-events/page-events.component.ts","deprecated":false,"deprecationMessage":"","description":"","kind":187},{"name":"EventsData","ctype":"miscellaneous","subtype":"typealias","rawtype":"literal type","file":"projects/countdown/src/app/services/GoogleCalendarService.ts","deprecated":false,"deprecationMessage":"","description":"","kind":187},{"name":"UserInfoData","ctype":"miscellaneous","subtype":"typealias","rawtype":"literal type","file":"projects/countdown/src/app/services/GoogleUserInfoService.ts","deprecated":false,"deprecationMessage":"","description":"","kind":187},{"name":"UserSettingFormat","ctype":"miscellaneous","subtype":"typealias","rawtype":"","file":"projects/countdown/src/app/services/LocalStorageService.ts","deprecated":false,"deprecationMessage":"","description":"","kind":199},{"name":"UserSettings","ctype":"miscellaneous","subtype":"typealias","rawtype":"AppLocalStorage","file":"projects/countdown/src/app/services/UserSettingsService.ts","deprecated":false,"deprecationMessage":"","description":"","kind":199},{"name":"UserSettingsModel","ctype":"miscellaneous","subtype":"typealias","rawtype":"z.infer<>","file":"projects/countdown/src/app/settings/user-settings-panel/user-settings-schema.ts","deprecated":false,"deprecationMessage":"","description":"","kind":183},{"name":"UserSettingTheme","ctype":"miscellaneous","subtype":"typealias","rawtype":"","file":"projects/countdown/src/app/services/LocalStorageService.ts","deprecated":false,"deprecationMessage":"","description":"","kind":199}],"enumerations":[],"groupedVariables":{"projects/countdown/src/app/app.config.ts":[{"name":"appConfig","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/app.config.ts","deprecated":false,"deprecationMessage":"","type":"ApplicationConfig","defaultValue":"{\\n  providers: [\\n    provideZoneChangeDetection({ eventCoalescing: true }),\\n    provideRouter(routes),\\n    provideHttpClient(withInterceptors([authInterceptor])),\\n\\n    provideToastConfig({\\n      dismissible: true,\\n      duration: 5000,\\n    }),\\n  ],\\n}"}],"projects/countdown/src/app/services/AuthInterceptor.ts":[{"name":"authInterceptor","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/services/AuthInterceptor.ts","deprecated":false,"deprecationMessage":"","type":"HttpInterceptorFn","defaultValue":"(req, next) => {\\n  const auth = inject(GoogleAuthService);\\n  const router = inject(Router);\\n\\n  return next(req).pipe(\\n    catchError((error) => {\\n      if (error.status === 401) {\\n        auth.clearAccessToken();\\n        router.navigate([\'/login\']);\\n      }\\n      return throwError(() => error);\\n    })\\n  );\\n}"}],"projects/countdown/src/app/events/countdown/countdown.component.ts":[{"name":"CountdownFormats","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/events/countdown/countdown.component.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"[\'days\', \'detailed\'] as const"}],"projects/countdown/src/app/services/UserSettingsService.ts":[{"name":"DEFAULT_SETTINGS","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/services/UserSettingsService.ts","deprecated":false,"deprecationMessage":"","type":"UserSettings","defaultValue":"{\\n  query: \'#countdown\',\\n  timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone,\\n  defaultCalendarId: \'primary\',\\n  defaultFormat: \'detailed\',\\n  theme: \'auto\',\\n}"}],"projects/countdown/src/environments/environment.dev.ts":[{"name":"environment","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/environments/environment.dev.ts","deprecated":false,"deprecationMessage":"","type":"EnvConfig","defaultValue":"{\\n  env: \'dev\',\\n  googleClientId: \'{{ GOOGLE_CLIENT_ID }}\',\\n}"}],"projects/countdown/src/environments/environment.prod.ts":[{"name":"environment","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/environments/environment.prod.ts","deprecated":false,"deprecationMessage":"","type":"EnvConfig","defaultValue":"{\\n  env: \'prod\',\\n  googleClientId: \'{{ GOOGLE_CLIENT_ID }}\',\\n}"}],"projects/countdown/src/environments/environment.ts":[{"name":"environment","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/environments/environment.ts","deprecated":false,"deprecationMessage":"","type":"EnvConfig","defaultValue":"{\\n  env: \'local\',\\n  googleClientId: \'{{ GOOGLE_CLIENT_ID }}\',\\n}"}],"projects/countdown/src/app/events/page-events/mockCalendarEvents.ts":[{"name":"mockCalendarEvents","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/events/page-events/mockCalendarEvents.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"(): EventsData[] => {\\n  return [\\n    {\\n      id: \'1\',\\n      name: \'Hello world\',\\n      date: \'2025-05-02T19:26:55.086Z\',\\n    },\\n    {\\n      id: \'2\',\\n      name: \'Foo bar\',\\n      date: \'2025-02-02T19:26:55.086Z\',\\n    },\\n  ];\\n}"}],"projects/countdown/src/app/services/GoogleCalendarService.ts":[{"name":"prepDates","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/services/GoogleCalendarService.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"({\\n  date,\\n  time,\\n  timeZone,\\n}: {\\n  date: string;\\n  time?: string;\\n  timeZone: string;\\n}) => {\\n  if (time) {\\n    return { dateTime: createDateTimeZoned(date, time, timeZone) };\\n  } else {\\n    return { date };\\n  }\\n}"}],"projects/countdown/src/app/app.routes.ts":[{"name":"routes","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/app.routes.ts","deprecated":false,"deprecationMessage":"","type":"Routes","defaultValue":"[\\n  { path: \'login\', component: PageLoginComponent },\\n  {\\n    path: \'\',\\n    component: AppMainComponent,\\n    canActivate: [AuthGuardService],\\n    children: [\\n      { path: \'events\', component: PageEventsComponent },\\n      { path: \'settings\', component: PageSettingsComponent },\\n      { path: \'\', redirectTo: \'events\', pathMatch: \'full\' },\\n    ],\\n  },\\n  { path: \'**\', redirectTo: \'\' },\\n]"}],"projects/countdown/src/app/services/LocalStorageService.ts":[{"name":"UserSettingFormats","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/services/LocalStorageService.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"[\'detailed\', \'days\'] as const"},{"name":"UserSettingThemes","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/services/LocalStorageService.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"[\'auto\', \'light\', \'dark\'] as const"}],"projects/countdown/src/app/settings/user-settings-panel/user-settings-schema.ts":[{"name":"userSettingsSchema","ctype":"miscellaneous","subtype":"variable","file":"projects/countdown/src/app/settings/user-settings-panel/user-settings-schema.ts","deprecated":false,"deprecationMessage":"","type":"","defaultValue":"z.object({\\n  query: z\\n    .string()\\n    .trim()\\n    .refine((value) => value.trim().length > 0, {\\n      message: \'Query is required\',\\n    }),\\n  timeZone: z\\n    .string()\\n    .trim()\\n    .refine((value) => value.trim().length > 0, {\\n      message: \'TimeZone is required\',\\n    }),\\n  theme: z.enum(UserSettingThemes),\\n  defaultCalendarId: z\\n    .string()\\n    .trim()\\n    .refine((value) => value.trim().length > 0, {\\n      message: \'Calendar ID is required\',\\n    }),\\n  defaultFormat: z.enum(UserSettingFormats),\\n})"}]},"groupedFunctions":{"projects/countdown/src/app/events/create-event-dialog/create-event-schema.ts":[{"name":"createEventSchema","file":"projects/countdown/src/app/events/create-event-dialog/create-event-schema.ts","ctype":"miscellaneous","subtype":"function","deprecated":false,"deprecationMessage":"","description":"","args":[{"name":"query","type":"string","deprecated":false,"deprecationMessage":"","destrucuredGroupId":"6a031006-4f68-48b1-966a-eda62452af81","destructuredParameter":true},{"name":"timeZone","type":"string","deprecated":false,"deprecationMessage":"","destrucuredGroupId":"6a031006-4f68-48b1-966a-eda62452af81","destructuredParameter":true}],"jsdoctags":[{"name":"query","type":"string","deprecated":false,"deprecationMessage":"","destrucuredGroupId":"6a031006-4f68-48b1-966a-eda62452af81","destructuredParameter":true,"tagName":{"text":"param"}},{"name":"timeZone","type":"string","deprecated":false,"deprecationMessage":"","destrucuredGroupId":"6a031006-4f68-48b1-966a-eda62452af81","destructuredParameter":true,"tagName":{"text":"param"}}]}]},"groupedEnumerations":{},"groupedTypeAliases":{"projects/countdown/src/app/services/GoogleCalendarService.ts":[{"name":"ApiResponse","ctype":"miscellaneous","subtype":"typealias","rawtype":"literal type","file":"projects/countdown/src/app/services/GoogleCalendarService.ts","deprecated":false,"deprecationMessage":"","description":"","kind":187},{"name":"EventsData","ctype":"miscellaneous","subtype":"typealias","rawtype":"literal type","file":"projects/countdown/src/app/services/GoogleCalendarService.ts","deprecated":false,"deprecationMessage":"","description":"","kind":187}],"projects/countdown/src/app/services/GoogleUserInfoService.ts":[{"name":"ApiResponse","ctype":"miscellaneous","subtype":"typealias","rawtype":"literal type","file":"projects/countdown/src/app/services/GoogleUserInfoService.ts","deprecated":false,"deprecationMessage":"","description":"","kind":187},{"name":"UserInfoData","ctype":"miscellaneous","subtype":"typealias","rawtype":"literal type","file":"projects/countdown/src/app/services/GoogleUserInfoService.ts","deprecated":false,"deprecationMessage":"","description":"","kind":187}],"projects/countdown/src/app/services/LocalStorageService.ts":[{"name":"AppLocalStorage","ctype":"miscellaneous","subtype":"typealias","rawtype":"literal type","file":"projects/countdown/src/app/services/LocalStorageService.ts","deprecated":false,"deprecationMessage":"","description":"","kind":187},{"name":"UserSettingFormat","ctype":"miscellaneous","subtype":"typealias","rawtype":"","file":"projects/countdown/src/app/services/LocalStorageService.ts","deprecated":false,"deprecationMessage":"","description":"","kind":199},{"name":"UserSettingTheme","ctype":"miscellaneous","subtype":"typealias","rawtype":"","file":"projects/countdown/src/app/services/LocalStorageService.ts","deprecated":false,"deprecationMessage":"","description":"","kind":199}],"projects/countdown/src/app/services/GoogleAuthService.ts":[{"name":"AuthConfig","ctype":"miscellaneous","subtype":"typealias","rawtype":"literal type","file":"projects/countdown/src/app/services/GoogleAuthService.ts","deprecated":false,"deprecationMessage":"","description":"","kind":187}],"projects/countdown/src/app/events/countdown/countdown.component.ts":[{"name":"CountdownFormat","ctype":"miscellaneous","subtype":"typealias","rawtype":"","file":"projects/countdown/src/app/events/countdown/countdown.component.ts","deprecated":false,"deprecationMessage":"","description":"","kind":199}],"projects/countdown/src/app/events/create-event-dialog/create-event-schema.ts":[{"name":"CreateEventModel","ctype":"miscellaneous","subtype":"typealias","rawtype":"literal type","file":"projects/countdown/src/app/events/create-event-dialog/create-event-schema.ts","deprecated":false,"deprecationMessage":"","description":"<p>TODO: can this be extracted from the schema</p>\\n","kind":187}],"projects/countdown/src/environments/types.ts":[{"name":"EnvConfig","ctype":"miscellaneous","subtype":"typealias","rawtype":"literal type","file":"projects/countdown/src/environments/types.ts","deprecated":false,"deprecationMessage":"","description":"","kind":187}],"projects/countdown/src/app/events/page-events/page-events.component.ts":[{"name":"EventItem","ctype":"miscellaneous","subtype":"typealias","rawtype":"literal type","file":"projects/countdown/src/app/events/page-events/page-events.component.ts","deprecated":false,"deprecationMessage":"","description":"","kind":187}],"projects/countdown/src/app/services/UserSettingsService.ts":[{"name":"UserSettings","ctype":"miscellaneous","subtype":"typealias","rawtype":"AppLocalStorage","file":"projects/countdown/src/app/services/UserSettingsService.ts","deprecated":false,"deprecationMessage":"","description":"","kind":199}],"projects/countdown/src/app/settings/user-settings-panel/user-settings-schema.ts":[{"name":"UserSettingsModel","ctype":"miscellaneous","subtype":"typealias","rawtype":"z.infer<>","file":"projects/countdown/src/app/settings/user-settings-panel/user-settings-schema.ts","deprecated":false,"deprecationMessage":"","description":"","kind":183}]}},"routes":{"name":"<root>","kind":"module","children":[{"name":"PageLoginComponent","kind":"component","path":"login","filename":"projects/countdown/src/app/app.routes.ts"},{"name":"AppMainComponent","kind":"component","path":"","filename":"projects/countdown/src/app/app.routes.ts"}]},"coverage":{"count":3,"status":"low","files":[{"filePath":"projects/countdown/src/app/app-header/app-header.ts","type":"component","linktype":"component","name":"AppHeaderComponent","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/app-main/app-main.component.ts","type":"component","linktype":"component","name":"AppMainComponent","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/app.component.ts","type":"component","linktype":"component","name":"AppComponent","coveragePercent":0,"coverageCount":"0/2","status":"low"},{"filePath":"projects/countdown/src/app/app.config.ts","type":"variable","linktype":"miscellaneous","linksubtype":"variable","name":"appConfig","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/app.routes.ts","type":"variable","linktype":"miscellaneous","linksubtype":"variable","name":"routes","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/events/countdown/countdown.component.ts","type":"component","linktype":"component","name":"CountdownComponent","coveragePercent":0,"coverageCount":"0/5","status":"low"},{"filePath":"projects/countdown/src/app/events/countdown/countdown.component.ts","type":"variable","linktype":"miscellaneous","linksubtype":"variable","name":"CountdownFormats","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/events/countdown/countdown.component.ts","type":"type alias","linktype":"miscellaneous","linksubtype":"typealias","name":"CountdownFormat","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/events/create-event-dialog/create-event-dialog.component.ts","type":"component","linktype":"component","name":"CreateEventDialogComponent","coveragePercent":0,"coverageCount":"0/4","status":"low"},{"filePath":"projects/countdown/src/app/events/create-event-dialog/create-event-schema.ts","type":"function","linktype":"miscellaneous","linksubtype":"function","name":"createEventSchema","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/events/create-event-dialog/create-event-schema.ts","type":"type alias","linktype":"miscellaneous","linksubtype":"typealias","name":"CreateEventModel","coveragePercent":100,"coverageCount":"1/1","status":"very-good"},{"filePath":"projects/countdown/src/app/events/events-empty/events-empty.component.ts","type":"component","linktype":"component","name":"EventsEmptyComponent","coveragePercent":0,"coverageCount":"0/2","status":"low"},{"filePath":"projects/countdown/src/app/events/page-events/mockCalendarEvents.ts","type":"variable","linktype":"miscellaneous","linksubtype":"variable","name":"mockCalendarEvents","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/events/page-events/page-events.component.ts","type":"component","linktype":"component","name":"PageEventsComponent","coveragePercent":0,"coverageCount":"0/2","status":"low"},{"filePath":"projects/countdown/src/app/events/page-events/page-events.component.ts","type":"type alias","linktype":"miscellaneous","linksubtype":"typealias","name":"EventItem","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/page-login/page-login.component.ts","type":"component","linktype":"component","name":"PageLoginComponent","coveragePercent":0,"coverageCount":"0/3","status":"low"},{"filePath":"projects/countdown/src/app/services/AuthGuardService.ts","type":"guard","linktype":"guard","name":"AuthGuardService","coveragePercent":0,"coverageCount":"0/2","status":"low"},{"filePath":"projects/countdown/src/app/services/AuthInterceptor.ts","type":"variable","linktype":"miscellaneous","linksubtype":"variable","name":"authInterceptor","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/services/EnvironmentService.ts","type":"injectable","linktype":"injectable","name":"EnvironmentService","coveragePercent":0,"coverageCount":"0/2","status":"low"},{"filePath":"projects/countdown/src/app/services/GoogleAuthService.ts","type":"injectable","linktype":"injectable","name":"GoogleAuthService","coveragePercent":0,"coverageCount":"0/8","status":"low"},{"filePath":"projects/countdown/src/app/services/GoogleAuthService.ts","type":"type alias","linktype":"miscellaneous","linksubtype":"typealias","name":"AuthConfig","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/services/GoogleCalendarService.ts","type":"injectable","linktype":"injectable","name":"GoogleCalendarService","coveragePercent":33,"coverageCount":"1/3","status":"medium"},{"filePath":"projects/countdown/src/app/services/GoogleCalendarService.ts","type":"variable","linktype":"miscellaneous","linksubtype":"variable","name":"prepDates","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/services/GoogleCalendarService.ts","type":"type alias","linktype":"miscellaneous","linksubtype":"typealias","name":"ApiResponse","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/services/GoogleCalendarService.ts","type":"type alias","linktype":"miscellaneous","linksubtype":"typealias","name":"EventsData","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/services/GoogleUserInfoService.ts","type":"injectable","linktype":"injectable","name":"GoogleUserInfoService","coveragePercent":33,"coverageCount":"1/3","status":"medium"},{"filePath":"projects/countdown/src/app/services/GoogleUserInfoService.ts","type":"type alias","linktype":"miscellaneous","linksubtype":"typealias","name":"ApiResponse","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/services/GoogleUserInfoService.ts","type":"type alias","linktype":"miscellaneous","linksubtype":"typealias","name":"UserInfoData","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/services/LocalStorageService.ts","type":"injectable","linktype":"injectable","name":"LocalStorageService","coveragePercent":0,"coverageCount":"0/4","status":"low"},{"filePath":"projects/countdown/src/app/services/LocalStorageService.ts","type":"variable","linktype":"miscellaneous","linksubtype":"variable","name":"UserSettingFormats","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/services/LocalStorageService.ts","type":"variable","linktype":"miscellaneous","linksubtype":"variable","name":"UserSettingThemes","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/services/LocalStorageService.ts","type":"type alias","linktype":"miscellaneous","linksubtype":"typealias","name":"AppLocalStorage","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/services/LocalStorageService.ts","type":"type alias","linktype":"miscellaneous","linksubtype":"typealias","name":"UserSettingFormat","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/services/LocalStorageService.ts","type":"type alias","linktype":"miscellaneous","linksubtype":"typealias","name":"UserSettingTheme","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/services/LoggerService.ts","type":"injectable","linktype":"injectable","name":"LoggerService","coveragePercent":0,"coverageCount":"0/5","status":"low"},{"filePath":"projects/countdown/src/app/services/RouterEventsService.ts","type":"injectable","linktype":"injectable","name":"RouterEventsService","coveragePercent":0,"coverageCount":"0/3","status":"low"},{"filePath":"projects/countdown/src/app/services/UserSettingsService.ts","type":"injectable","linktype":"injectable","name":"UserSettingsService","coveragePercent":0,"coverageCount":"0/5","status":"low"},{"filePath":"projects/countdown/src/app/services/UserSettingsService.ts","type":"variable","linktype":"miscellaneous","linksubtype":"variable","name":"DEFAULT_SETTINGS","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/services/UserSettingsService.ts","type":"type alias","linktype":"miscellaneous","linksubtype":"typealias","name":"UserSettings","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/settings/page-settings/page-settings.component.ts","type":"component","linktype":"component","name":"PageSettingsComponent","coveragePercent":0,"coverageCount":"0/2","status":"low"},{"filePath":"projects/countdown/src/app/settings/settings-panel/settings-panel.component.ts","type":"component","linktype":"component","name":"SettingsPanelComponent","coveragePercent":0,"coverageCount":"0/2","status":"low"},{"filePath":"projects/countdown/src/app/settings/unlink-google-dialog/unlink-google-dialog.component.ts","type":"component","linktype":"component","name":"UnlinkGoogleDialogComponent","coveragePercent":0,"coverageCount":"0/2","status":"low"},{"filePath":"projects/countdown/src/app/settings/user-settings-panel/user-settings-panel.component.ts","type":"component","linktype":"component","name":"UserSettingsPanelComponent","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/settings/user-settings-panel/user-settings-schema.ts","type":"variable","linktype":"miscellaneous","linksubtype":"variable","name":"userSettingsSchema","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/app/settings/user-settings-panel/user-settings-schema.ts","type":"type alias","linktype":"miscellaneous","linksubtype":"typealias","name":"UserSettingsModel","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/environments/environment.dev.ts","type":"variable","linktype":"miscellaneous","linksubtype":"variable","name":"environment","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/environments/environment.prod.ts","type":"variable","linktype":"miscellaneous","linksubtype":"variable","name":"environment","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/environments/environment.ts","type":"variable","linktype":"miscellaneous","linksubtype":"variable","name":"environment","coveragePercent":0,"coverageCount":"0/1","status":"low"},{"filePath":"projects/countdown/src/environments/types.ts","type":"type alias","linktype":"miscellaneous","linksubtype":"typealias","name":"EnvConfig","coveragePercent":0,"coverageCount":"0/1","status":"low"}]}}');(0,angular.$)(documentation_namespaceObject);var _ref;const _storybook_preview={decorators:[(0,dist._d)({defaultTheme:"auto",themes:{auto:"",light:"sb-light-mode",dark:"sb-dark-mode"}})],parameters:{backgrounds:{disable:!0},controls:{expanded:!0,hideNoControlsWarning:!0,sort:"requiredFirst",matchers:{color:/(background|color)$/i,date:/Date$/i}},docs:{canvas:{sourceState:"shown"},codePanel:!0,source:{transform:(_ref=(0,asyncToGenerator.A)(function*(code){return yield function formatAngularCode(_x){return _formatAngularCode.apply(this,arguments)}(code)}),function transform(_x){return _ref.apply(this,arguments)})}},options:{storySort:{method:"alphabetical",order:["intro","app","*"]}}}}},"./projects/countdown/src lazy recursive ^\\.\\/.*$ include: (?%21.*node_modules)(?:\\/projects\\/countdown\\/src(?:\\/(?%21\\.)(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/%7C\\/%7C$)(?%21\\.)(?=.)[^/]*?\\.mdx)$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./storybook/Welcome.mdx":["./projects/countdown/src/storybook/Welcome.mdx",731,428]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id="./projects/countdown/src lazy recursive ^\\.\\/.*$ include: (?%21.*node_modules)(?:\\/projects\\/countdown\\/src(?:\\/(?%21\\.)(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/%7C\\/%7C$)(?%21\\.)(?=.)[^/]*?\\.mdx)$",module.exports=webpackAsyncContext},"./projects/countdown/src lazy recursive ^\\.\\/.*$ include: (?%21.*node_modules)(?:\\/projects\\/countdown\\/src(?:\\/(?%21\\.)(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/%7C\\/%7C$)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cmjs%7Cts%7Ctsx))$":(module,__unused_webpack_exports,__webpack_require__)=>{var map={"./app/events/countdown/countdown.stories":["./projects/countdown/src/app/events/countdown/countdown.stories.ts",634,166],"./app/events/countdown/countdown.stories.ts":["./projects/countdown/src/app/events/countdown/countdown.stories.ts",634,166],"./app/settings/settings-panel/settings-panel.stories":["./projects/countdown/src/app/settings/settings-panel/settings-panel.stories.ts",68],"./app/settings/settings-panel/settings-panel.stories.ts":["./projects/countdown/src/app/settings/settings-panel/settings-panel.stories.ts",68]};function webpackAsyncContext(req){if(!__webpack_require__.o(map,req))return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e});var ids=map[req],id=ids[0];return Promise.all(ids.slice(1).map(__webpack_require__.e)).then(()=>__webpack_require__(id))}webpackAsyncContext.keys=()=>Object.keys(map),webpackAsyncContext.id="./projects/countdown/src lazy recursive ^\\.\\/.*$ include: (?%21.*node_modules)(?:\\/projects\\/countdown\\/src(?:\\/(?%21\\.)(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/%7C\\/%7C$)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cmjs%7Cts%7Ctsx))$",module.exports=webpackAsyncContext},"./projects/countdown/src/styles.css?ngGlobalStyle":()=>{},"./projects/ui/src/css/reset.css?ngGlobalStyle":()=>{},"./projects/ui/src/css/theme-default.css?ngGlobalStyle":()=>{},"./storybook-config-entry.js":(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var external_STORYBOOK_MODULE_CHANNELS_=__webpack_require__("storybook/internal/channels"),csf=(__webpack_require__("storybook/internal/core-events"),__webpack_require__("./node_modules/storybook/dist/csf/index.js")),external_STORYBOOK_MODULE_GLOBAL_=__webpack_require__("@storybook/global"),external_STORYBOOK_MODULE_PREVIEW_API_=__webpack_require__("storybook/preview-api"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js");const pipeline=x=>x(),importers=[function(){var _ref=(0,asyncToGenerator.A)(function*(path){if(!/^\.[\\/](?:projects\/countdown\/src(?:\/(?!\.)(?:(?:(?!(?:^|\/)\.).)*?)\/|\/|$)(?!\.)(?=.)[^/]*?\.mdx)$/.exec(path))return;const pathRemainder=path.substring(25);return __webpack_require__("./projects/countdown/src lazy recursive ^\\.\\/.*$ include: (?%21.*node_modules)(?:\\/projects\\/countdown\\/src(?:\\/(?%21\\.)(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/%7C\\/%7C$)(?%21\\.)(?=.)[^/]*?\\.mdx)$")("./"+pathRemainder)});return function(_x){return _ref.apply(this,arguments)}}(),function(){var _ref2=(0,asyncToGenerator.A)(function*(path){if(!/^\.[\\/](?:projects\/countdown\/src(?:\/(?!\.)(?:(?:(?!(?:^|\/)\.).)*?)\/|\/|$)(?!\.)(?=.)[^/]*?\.stories\.(js|jsx|mjs|ts|tsx))$/.exec(path))return;const pathRemainder=path.substring(25);return __webpack_require__("./projects/countdown/src lazy recursive ^\\.\\/.*$ include: (?%21.*node_modules)(?:\\/projects\\/countdown\\/src(?:\\/(?%21\\.)(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/%7C\\/%7C$)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cmjs%7Cts%7Ctsx))$")("./"+pathRemainder)});return function(_x2){return _ref2.apply(this,arguments)}}()];function _importFn(){return(_importFn=(0,asyncToGenerator.A)(function*(path){for(let i=0;i<importers.length;i++){const moduleExports=yield pipeline(()=>importers[i](path));if(moduleExports)return moduleExports}})).apply(this,arguments)}const channel=(0,external_STORYBOOK_MODULE_CHANNELS_.createBrowserChannel)({page:"preview"});external_STORYBOOK_MODULE_PREVIEW_API_.addons.setChannel(channel),"DEVELOPMENT"===external_STORYBOOK_MODULE_GLOBAL_.global.CONFIG_TYPE&&(window.__STORYBOOK_SERVER_CHANNEL__=channel);const preview=new external_STORYBOOK_MODULE_PREVIEW_API_.PreviewWeb(function importFn(_x3){return _importFn.apply(this,arguments)},()=>{const previewAnnotations=[__webpack_require__("./node_modules/@storybook/angular/dist/client/preview-prod.mjs"),__webpack_require__("./node_modules/@storybook/angular/dist/client/config.mjs"),__webpack_require__("./node_modules/@storybook/angular/dist/client/docs/config.mjs"),__webpack_require__("./node_modules/@storybook/addon-docs/dist/preview.mjs"),__webpack_require__("./node_modules/@storybook/addon-themes/dist/preview.mjs"),__webpack_require__("./projects/countdown/.storybook/preview.ts")],userPreview=previewAnnotations[previewAnnotations.length-1]?.default;return(0,csf.bU)(userPreview)?userPreview.composed:(0,external_STORYBOOK_MODULE_PREVIEW_API_.composeConfigs)(previewAnnotations)});window.__STORYBOOK_PREVIEW__=preview,window.__STORYBOOK_STORY_STORE__=preview.storyStore,window.__STORYBOOK_ADDONS_CHANNEL__=channel},"@storybook/global":module=>{"use strict";module.exports=__STORYBOOK_MODULE_GLOBAL__},"storybook/internal/channels":module=>{"use strict";module.exports=__STORYBOOK_MODULE_CHANNELS__},"storybook/internal/client-logger":module=>{"use strict";module.exports=__STORYBOOK_MODULE_CLIENT_LOGGER__},"storybook/internal/core-events":module=>{"use strict";module.exports=__STORYBOOK_MODULE_CORE_EVENTS__},"storybook/internal/preview-errors":module=>{"use strict";module.exports=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__},"storybook/preview-api":module=>{"use strict";module.exports=__STORYBOOK_MODULE_PREVIEW_API__},"storybook/test":module=>{"use strict";module.exports=__STORYBOOK_MODULE_TEST__}},__webpack_require__=>{var __webpack_exec__=moduleId=>__webpack_require__(__webpack_require__.s=moduleId);__webpack_require__.O(0,[929],()=>(__webpack_exec__("./node_modules/zone.js/fesm2015/zone.js"),__webpack_exec__("./node_modules/@angular/compiler/fesm2022/compiler.mjs"),__webpack_exec__("./storybook-config-entry.js"),__webpack_exec__("./projects/ui/src/css/reset.css?ngGlobalStyle"),__webpack_exec__("./projects/ui/src/css/theme-default.css?ngGlobalStyle"),__webpack_exec__("./projects/countdown/src/styles.css?ngGlobalStyle")));__webpack_require__.O()}]);