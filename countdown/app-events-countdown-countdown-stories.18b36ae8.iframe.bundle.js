(self.webpackChunkmono_angular=self.webpackChunkmono_angular||[]).push([[166],{"./projects/countdown/src/app/events/countdown/countdown.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,".name {\n  color: var(--text-secondary);\n  display: inline-block;\n  font-size: clamp(1rem, 1vw + 1rem, 2.25rem);\n  line-height: 1.5;\n}\n\n.time {\n  background: none;\n  border: none;\n  color: var(--text-primary);\n  cursor: pointer;\n  font-size: clamp(1rem, 1vw + 1.3rem, 2.25rem);\n  line-height: 1.25;\n  margin: 0;\n  padding: 0;\n  text-align: start;\n}\n",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/countdown/src/app/events/countdown/countdown.stories.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DateOnly:()=>DateOnly,Default:()=>Default,Details:()=>Details,Past:()=>Past,__namedExportsOrder:()=>__namedExportsOrder,default:()=>countdown_stories});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs"),countdownngResource=__webpack_require__("./projects/countdown/src/app/events/countdown/countdown.css?ngResource"),countdownngResource_default=__webpack_require__.n(countdownngResource);var core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),tooltipngResource=__webpack_require__("./projects/ui/src/lib/popovers/tooltip/tooltip.css?ngResource"),tooltipngResource_default=__webpack_require__.n(tooltipngResource);let UiTooltipComponent=class UiTooltipComponent{};UiTooltipComponent=(0,tslib_es6.Cg)([(0,core.Component)({selector:"ui-tooltip",template:'\n    <div class="content">\n      <ng-content />\n    </div>\n  ',styles:[tooltipngResource_default()]})],UiTooltipComponent);var floating_ui_dom=__webpack_require__("./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs");const UiPopoverPlacements={"above-start":"top-start","above-center":"top","above-end":"top-end","after-start":"right-start","after-center":"right","after-end":"right-end","below-start":"bottom-start","below-center":"bottom","below-end":"bottom-end","before-start":"left-start","before-center":"left","before-end":"left-end"};class UiPopover{floatingEl;anchorEl;options;constructor(_floating,_anchor,_options){this.floatingEl=_floating,this.anchorEl=_anchor;this.options={offset:0,placement:"above-center",edgePadding:0,..._options}}calcPosition(callback){const floatingPlacement=UiPopoverPlacements[this.options.placement];return(0,floating_ui_dom.ll)(this.anchorEl,this.floatingEl,(()=>{(0,floating_ui_dom.rD)(this.anchorEl,this.floatingEl,{middleware:[(0,floating_ui_dom.cY)(this.options.offset),(0,floating_ui_dom.UU)(),(0,floating_ui_dom.BN)({padding:this.options.edgePadding})],placement:floatingPlacement}).then((({x,y})=>{callback(x,y)}))}))}}let UiPopoverDirective=class UiPopoverDirective{el=(0,core.inject)(core.ElementRef);renderer=(0,core.inject)(core.Renderer2);floating;role=core.input.required({alias:"uiPopover"});anchor=core.input.required();placement=core.input.required();offset=(0,core.input)(0,{transform:core.numberAttribute});cleanup;updatePosition(){this.cleanup=this.floating.calcPosition(((x,y)=>{this.renderer.setStyle(this.el.nativeElement,"left",`${x}px`),this.renderer.setStyle(this.el.nativeElement,"top",`${y}px`)}))}show(){this.el.nativeElement.showPopover?.(),this.updatePosition()}hide(){this.el.nativeElement.hidePopover?.()}toggle(){this.el.nativeElement.matches(":popover-open")?this.hide():this.show()}initAriaTooltip(){let tooltipId=this.el.nativeElement.id;tooltipId||(tooltipId=function uniqueId(){return`i${Math.random().toString(36).substring(2,15)}`}(),this.el.nativeElement.id=tooltipId),this.renderer.setAttribute(this.anchor(),"aria-describedby",tooltipId)}initAriaMenu(){this.renderer.setAttribute(this.anchor(),"aria-haspopup","menu")}initAria(){"menu"===this.role()?this.initAriaMenu():"tooltip"===this.role()&&this.initAriaTooltip()}ngOnInit(){this.initAria(),this.floating=new UiPopover(this.el.nativeElement,this.anchor(),{offset:this.offset(),placement:this.placement(),edgePadding:8})}ngOnDestroy(){this.cleanup?.()}static propDecorators={role:[{type:core.Input,args:[{isSignal:!0,alias:"uiPopover",required:!0,transform:void 0}]}],anchor:[{type:core.Input,args:[{isSignal:!0,alias:"anchor",required:!0,transform:void 0}]}],placement:[{type:core.Input,args:[{isSignal:!0,alias:"placement",required:!0,transform:void 0}]}],offset:[{type:core.Input,args:[{isSignal:!0,alias:"offset",required:!1,transform:void 0}]}]}};UiPopoverDirective=(0,tslib_es6.Cg)([(0,core.Directive)({exportAs:"uiPopover",host:{popover:"manual","[role]":"role()"},selector:"[uiPopover]"})],UiPopoverDirective);__webpack_require__("./node_modules/@date-fns/tz/index.js");var parseISO=__webpack_require__("./node_modules/date-fns/parseISO.js"),differenceInSeconds=__webpack_require__("./node_modules/date-fns/differenceInSeconds.js");function addS(n){return 1===n?"":"s"}const formatTimeDiff=({timeSince,isAfterNow,precision})=>{const{years,months,weeks,days,hours,minutes,seconds}=timeSince,parts=[];return precision&&years&&(parts.push(years+" year"+addS(years)),precision--),precision&&months&&(parts.push(months+" month"+addS(months)),precision--),precision&&weeks&&(parts.push(weeks+" week"+addS(weeks)),precision--),precision&&days&&(parts.push(days+" day"+addS(days)),precision--),precision&&hours&&(parts.push(hours+" hour"+addS(hours)),precision--),precision&&minutes&&(parts.push(minutes+" minute"+addS(minutes)),precision--),precision&&seconds&&(parts.push(seconds+" second"+addS(seconds)),precision--),isAfterNow?`in ${parts.join(", ")}`:`${parts.join(", ")} ago`};var differenceInMilliseconds=__webpack_require__("./node_modules/date-fns/differenceInMilliseconds.js");let CountdownComponent=class CountdownComponent{date=core.input.required();name=core.input.required();format=core.input.required();clicked=(0,core.output)();handleClick(){this.clicked.emit()}formattedDate=(0,core.computed)((()=>((isoDate,options)=>{const hasTime=(isoDate=>isoDate.includes("T")&&isoDate.match(/T\d{2}:\d{2}/))(isoDate),date=hasTime?new Date(isoDate):new Date(`${isoDate}T00:00:00`);if(hasTime&&options?.time)return new Intl.DateTimeFormat("en-us",{dateStyle:options?.date||"short",timeStyle:options?.time||"short"}).format(date);return new Intl.DateTimeFormat("en-us",{dateStyle:options?.date||"short"}).format(date)})(this.date(),{date:"long",time:"short"})));displayName=(0,core.computed)((()=>this.name().trim()||"Event"));displayDate=(0,core.computed)((()=>"days"===this.format()?(isoDate=>{const now=new Date,date=(0,parseISO.H)(isoDate),isAfterNow=date>now,dateParts={days:+(Math.abs((0,differenceInSeconds.O)(date,now))/86400).toFixed(2)};return formatTimeDiff({timeSince:dateParts,isAfterNow,precision:1})})(this.date()):(isoDate=>{const now=new Date,date=(0,parseISO.H)(isoDate),isAfterNow=date>now,dateDiffInMs=Math.abs((0,differenceInMilliseconds.b)(date,now)),dateParts={years:(ms=dateDiffInMs)/3154e7|0,months:ms%3154e7/2628e6|0,weeks:ms%2628e6/6048e5|0,days:ms%6048e5/864e5|0,hours:ms%864e5/36e5|0,minutes:ms%36e5/6e4|0,seconds:ms%6e4/1e3|0};var ms;return formatTimeDiff({timeSince:dateParts,isAfterNow,precision:3})})(this.date())));static propDecorators={date:[{type:core.Input,args:[{isSignal:!0,alias:"date",required:!0,transform:void 0}]}],name:[{type:core.Input,args:[{isSignal:!0,alias:"name",required:!0,transform:void 0}]}],format:[{type:core.Input,args:[{isSignal:!0,alias:"format",required:!0,transform:void 0}]}],clicked:[{type:core.Output,args:["clicked"]}]}};CountdownComponent=(0,tslib_es6.Cg)([(0,core.Component)({imports:[UiTooltipComponent,UiPopoverDirective],selector:"app-countdown",template:'<div>\n  <span\n    class="name"\n    #dateTooltipAnchor\n    (mouseenter)="tooltip.show()"\n    (mouseleave)="tooltip.hide()"\n    (touchstart)="tooltip.toggle()"\n  >\n    {{ displayName() }}\n  </span>\n  <ui-tooltip\n    uiPopover="tooltip"\n    #tooltip="uiPopover"\n    [anchor]="dateTooltipAnchor"\n    offset="8"\n    placement="after-center"\n  >\n    {{ formattedDate() }}\n  </ui-tooltip>\n</div>\n\n<button class="time" (click)="handleClick()">\n  {{ displayDate() }}\n</button>\n',styles:[countdownngResource_default()]})],CountdownComponent);const countdown_stories={title:"app/countdown",component:CountdownComponent,tags:["autodocs"],argTypes:{clicked:{control:{disable:!0}},date:{control:{type:"text"}},name:{control:{type:"text"}},format:{options:["days","detailed"],control:{type:"radio"}}},args:{date:"2025-09-02T19:26:55.086",format:"days",name:"ðŸŽ‰ Birthday party"}},Default={},Details={args:{format:"detailed"}},DateOnly={args:{date:"2025-12-02"}},Past={args:{date:"2025-05-02T19:26:55.086"}},__namedExportsOrder=["Default","Details","DateOnly","Past"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}},Details.parameters={...Details.parameters,docs:{...Details.parameters?.docs,source:{originalSource:"{\n  args: {\n    format: 'detailed'\n  }\n}",...Details.parameters?.docs?.source}}},DateOnly.parameters={...DateOnly.parameters,docs:{...DateOnly.parameters?.docs,source:{originalSource:"{\n  args: {\n    date: '2025-12-02'\n  }\n}",...DateOnly.parameters?.docs?.source}}},Past.parameters={...Past.parameters,docs:{...Past.parameters?.docs,source:{originalSource:"{\n  args: {\n    date: '2025-05-02T19:26:55.086'\n  }\n}",...Past.parameters?.docs?.source}}}},"./projects/ui/src/lib/popovers/tooltip/tooltip.css?ngResource":(module,__unused_webpack_exports,__webpack_require__)=>{var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  background: none;\n  border: none;\n  margin: 0;\n  padding: 0;\n}\n\n.content {\n  background-color: var(--bg-quaternary);\n  border-radius: 8px;\n  box-sizing: border-box;\n  color: var(--text-secondary);\n  font: 600 var(--type-text-xs);\n  max-width: 500px;\n  padding-block: 8px;\n  padding-inline: 12px;\n  width: fit-content;\n}\n\n:host[popover] {\n  opacity: 0;\n  transition-behavior: allow-discrete;\n  transition-timing-function: ease-out;\n  transition-duration: 200ms;\n  transition-property: display, opacity;\n}\n\n:host[popover]:popover-open {\n  opacity: 1;\n  position: absolute;\n\n  @starting-style {\n    opacity: 0;\n  }\n}\n",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);